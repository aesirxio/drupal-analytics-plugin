"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[9843],{39843:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var i=a(2576),n=a(71445),l=a(77053),s=a(84361),r=(a(20734),a(16505),a(28949),a(15218)),o=(a(20513),a(70069)),c=(a(23541),a(67294)),m=a(91072),d=(0,a(38585).Pi)((e=>{const{t}=(0,m.$G)(),{acquisitionCampaignEvents:{data:a,statusAttribute:d,handleFilterDateRange:p,handleFilterTable:u,getAttributeDate:g,getAttributeTable:h,getAttributeList:E,dataAttribute:f,statusTable:b,sortBy:v}}=(0,l.t)(),{biListViewModel:{activeDomain:w}}=(0,o.mQ)(),y=(0,c.useCallback)(((e,t)=>{p(e??t,t??e)}),[]);(0,c.useEffect)((()=>((async()=>{await g({"filter[domain]":w,"filter[attribute_name]":"utm_source","filter[acquisition]":!0}),await h({"filter[domain]":w,"filter[attribute_name]":"utm_source","filter[acquisition]":!0}),await E({"filter[domain]":w,"filter[attribute_name]":"utm_source","filter[acquisition]":!0})})(),()=>{})),[w]);return c.createElement("div",{className:"py-4 px-4 h-100"},c.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24 flex-wrap"},c.createElement("div",{className:"position-relative"},c.createElement("h2",{className:"fw-bold mb-8px"},t("txt_campaign_overview")),c.createElement("p",{className:"mb-0"},t("txt_analytic_details"))),c.createElement("div",{className:"position-relative"},c.createElement(r.r,{onChange:y}))),c.createElement("div",{className:"row gx-24 mb-24"},c.createElement("div",{className:"col-lg-6 col-12"},c.createElement(i.g,{loading:d,height:390,data:f?.toAreaChartAcquisitionCampaign(),colors:["#1AB394","#9747FF","#479CFF","#024E6D"],areaColors:["#1AB394","#9747FF","#479CFF","#024E6D"],lineColors:["#1AB394","#9747FF","#479CFF","#024E6D"],lines:f?.getListLineAcquisitionCampaign(),filterData:f?.getFilterNameAcquisitionCampaign(),tooltipComponent:{header:t("txt_number"),value:""},isLegend:!0,filterButtons:["days","months"]})),c.createElement("div",{className:"col-lg-6 col-12"},c.createElement(s.l,{chartTitle:t("txt_event")+" count",height:390,bars:["number"],barColors:["#2C94EA"],data:f?.toBarChartAcquisitionCampaign(),margin:{left:40},filterButtons:[],loading:d,isSelection:!1}))),c.createElement("div",{className:"row gx-24 mb-24"},c.createElement("div",{className:"col-12"},a?.list&&c.createElement(n.Q,{data:a?.list?.toEventTableAcquisitionCampaign(),statusTable:b,isPaginationAPI:!0,pagination:a.pagination,handleFilterTable:u,handleSort:async e=>{await h({"filter[domain]":w,"filter[attribute_name]":"utm_source"},{},{"sort[]":e?.id,"sort_direction[]":"desc"===v["sort_direction[]"]?"asc":"desc"})},sortBy:v,isTranslate:!0,...e}))))}))},71445:(e,t,a)=>{a.d(t,{Q:()=>c});var i=a(16505),n=a(28949),l=a(20513),s=a(73022),r=a(26982),o=a(67294),c=(0,a(91072).Zh)()((({data:{header:e=[],data:t=[]},pagination:a,handleFilterTable:c,statusTable:m,t:d,isPaginationAPI:p=!1,isTranslate:u=!1,sortAPI:g=!0,handleSort:h,sortBy:E,limit:f})=>{const b=o.useMemo((()=>e.map(((t,a)=>({...t,className:`px-3 py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${a+1===e.length?"rounded-top-end-3":""} ${0===a?"rounded-top-start-3":""}`,width:t?.width??100,allowSort:t?.allowSort||!1,...u?{Header:o.createElement("span",{className:"align-middle text-gray-900 fw-medium"},d(t.Header))}:{}})))),[e]),v=o.useMemo((()=>t),[t]);return o.createElement("div",{className:"h-100 ChartWrapper position-relative"},m===l.r.LOADING?o.createElement(r.QI,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?o.createElement(i.k,{classNameTable:"mb-0",columns:b,data:v,canSort:!0,sortAPI:g,sortAPIHandle:h,sortBy:E,pagination:!0,paginationClass:"fs-14 px-4",isPaginationAPI:p,paginationResponse:a,selectPage:async e=>{await c({page:e})},selectPageSize:async e=>{await c({page:1,page_size:e})},limit:f}):o.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},o.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},o.createElement(n.x,{icons:s.OBj.PUBLIC_URL+"/assets/images/ic_project.svg",title:d("txt_no_data"),width:"w-50"}))))}))},2576:(e,t,a)=>{a.d(t,{g:()=>b});var i=a(20734),n=a(28949),l=a(20513),s=a(67294),r=a(91072),o=a(29009),c=a(94831),m=a(14195),d=a(3023),p=a(75358),u=a(65657),g=a(23872),h=a(53237),E=a(26982),f=a(73022);document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(".recharts-legend-wrapper ul {\n  list-style-type: none;\n}"));var b=({data:e=[],height:t,areaColors:a,chartTitle:b,lines:v,XAxisOptions:w,YAxisOptions:y,loading:x,tooltipComponent:N,filterData:C=[],isLegend:_,isSelection:A=!0,filterButtons:B})=>{const[S,F]=(0,s.useState)(C[0]),[k,L]=(0,s.useState)(e[0]),[T,D]=(0,s.useState)(i.m.DAY),{t:P}=(0,r.$G)();(0,s.useEffect)((()=>{const[t,a,n]=e;return T===i.m.MONTH&&L(t),T===i.m.DAY&&L(a),T===i.m.WEEK&&L(n),()=>{}}),[T,e]),(0,s.useEffect)((()=>(F(C[0]),()=>{})),[C]);const I=(0,s.useMemo)((()=>({payload:e})=>s.createElement("div",{className:"areachart-tooltip p-15 text-white rounded-6",style:{backgroundColor:"#132342"}},s.createElement("p",{className:"fw-semibold fs-14 mb-sm"},e?.length>0?e[0].payload.name:""),e&&e.map(((t,a)=>s.createElement("div",{key:a,className:"mb-0 fs-12 d-flex flex-nowrap"},e?.length>1&&s.createElement("div",{className:" fw-bold"},t.name,":"),s.createElement("div",{className:"ps-sm"},s.createElement("p",{className:"mb-0"},s.createElement("span",{className:"mr-2"},N?.value),s.createElement("span",null,t.value)))))))),[N]);return s.createElement("div",{className:"bg-white rounded-3 p-24 shadow-sm h-100 ChartWrapper position-relative"},s.createElement(i.K,{currentSelection:S,onSelectionChange:F,selectionData:C,chartTitle:b,isSelection:A,filterButtons:B,view:T,setView:D}),x===l.r.LOADING?s.createElement(E.QI,{className:"d-flex justify-content-center align-items-center bg-white"}):S?s.createElement(o.h,{width:"100%",height:t??500},s.createElement(c.v,{data:k?.[S.value]},v&&s.createElement("defs",null,v.map(((e,t)=>s.createElement("linearGradient",{key:t,id:`${e?.replace(/\s/g,"")}_${t}`,x1:"0",y1:"0",x2:"0",y2:"1"},s.createElement("stop",{offset:"5%",stopColor:a[t],stopOpacity:.2}),s.createElement("stop",{offset:"95%",stopColor:a[t],stopOpacity:0}))))),s.createElement(m.q,{strokeDasharray:"7 7",horizontal:!0,vertical:!1}),s.createElement(d.K,{dataKey:"name",tickLine:!1,padding:w?.padding,style:{fontSize:"14px"}}),s.createElement(p.B,{tickLine:!1,axisLine:y?.axisLine??!1,padding:y?.padding,style:{fontSize:"14px"}}),s.createElement(u.u,{content:I}),_&&s.createElement(g.D,{content:e=>{const{payload:t}=e;return s.createElement("ul",{className:"ms-3 mt-2 d-flex align-items-center"},t.map(((e,t)=>s.createElement("li",{key:`item-${t}`,className:"me-24 fs-14 d-flex align-items-center"},s.createElement("div",{className:"rounded-circle me-8px d-flex align-items-center justify-content-center",style:{backgroundColor:e?.color,width:14,height:14}}),e.value))))}}),v&&v.map(((e,t)=>s.createElement(h.$,{key:t,dataKey:e,stackId:"a",fill:a[t],barSize:28,maxBarSize:76}))))):s.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},s.createElement(n.x,{icons:f.OBj.PUBLIC_URL+"/assets/images/ic_project.svg",title:P("txt_no_data"),width:"w-50"})))}}}]);