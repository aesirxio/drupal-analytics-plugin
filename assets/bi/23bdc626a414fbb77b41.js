"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[9035],{19035:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var a=s(51345),i=s(4692),l=s(40440),n=(s(13899),s(4966)),r=s(51751),o=s(53800),c=s(55688),d=s(96540),h=s(32389),u=s(44015),m=s(56347),E=s(27813),v=s(99194),f=s(44011),M=s(95093),p=s.n(M),g=s(418),w=class{constructor(){(0,c.Mu)(this,"getFlowList",(async(e,t,s,a)=>{try{const i=new v.L20,l=await i.getFlowList(e,t);l&&"AxiosError"!==l?.name?(0,E.h5)((()=>{s(l)})):a({message:l?.response?.data?.error||"Something went wrong from Server response"})}catch(e){(0,E.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,c.Mu)(this,"getFlowDate",(async(e,t,s,a)=>{try{const i=new v.L20,l=await i.getFlowDate(e,t);l&&"AxiosError"!==l?.name?(0,E.h5)((()=>{s(l)})):a({message:l?.response?.data?.error||"Something went wrong from Server response"})}catch(e){(0,E.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,c.Mu)(this,"getEvents",(async(e,t,s,a)=>{try{const i=new v.L20,l=await i.getEvents(e,t);l&&"AxiosError"!==l?.name?(0,E.h5)((()=>{s(l)})):a({message:l?.response?.data?.error||"Something went wrong from Server response"})}catch(e){(0,E.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):e.response?.data.error?a({message:e.response?.data?.error}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}}))}},b=class{constructor(e,t){(0,c.Mu)(this,"flowlistStore",null),(0,c.Mu)(this,"status",r.s.READY),(0,c.Mu)(this,"statusTable",r.s.READY),(0,c.Mu)(this,"statusChart",r.s.READY),(0,c.Mu)(this,"globalStoreViewModel",null),(0,c.Mu)(this,"countriesTableData",null),(0,c.Mu)(this,"dataEvents",null),(0,c.Mu)(this,"dataConversion",null),(0,c.Mu)(this,"eventDateData",null),(0,c.Mu)(this,"sortBy",{"sort[]":"","sort_direction[]":""}),(0,c.Mu)(this,"isShowbot",!0),(0,c.Mu)(this,"dataFilterFlowList",{}),(0,c.Mu)(this,"initialize",((e,t,s,a)=>{this.getFlowList({...e,...s},t,s,a),this.getEvents(e,t),this.getConversion(e,t),this.getFlowDate(e,t)})),(0,c.Mu)(this,"getFlowList",((e,t,s={"sort[]":"start","sort_direction[]":"desc"},a)=>{this.statusTable=r.s.LOADING,this.sortBy=s,this.dataFilter={page_size:"20",...this.dataFilter,...e,...this.sortBy};const i={...this.globalStoreViewModel.dateFilter,...t};let l={};this.globalStoreViewModel.dataFilter={...s["sort[]"]&&{"sort[]":s["sort[]"]},...s["sort_direction[]"]&&{"sort_direction[]":s["sort_direction[]"]},...e["filter[event_name]"]&&{"filter[event_name]":e["filter[event_name]"]},...e["filter[url]"]&&{"filter[url]":e["filter[url]"]},...e["filter_not[device]"]&&{"filter_not[device]":e["filter_not[device]"]}},(s||e)&&(l={...g.A.parse(location.search),...s["sort[]"]&&{"sort[]":s["sort[]"]},...s["sort_direction[]"]&&{"sort_direction[]":s["sort_direction[]"]},...e["filter[event_name]"]&&{"filter[event_name]":e["filter[event_name]"]},...e["filter[url]"]&&{"filter[url]":e["filter[url]"]},...e["filter_not[device]"]&&{"filter_not[device]":e["filter_not[device]"]}}),"all"===e["filter_not[device]"]&&(this.dataFilter["filter_not[device]"]&&delete this.dataFilter["filter_not[device]"],l["filter_not[device]"]&&delete l["filter_not[device]"]),"all"===e["filter[event_name]"]&&(this.dataFilter["filter[event_name]"]&&delete this.dataFilter["filter[event_name]"],l["filter[event_name]"]&&delete l["filter[event_name]"]),"clearDataFilter"===e["filter[url]"]&&(this.dataFilter["filter[url]"]&&delete this.dataFilter["filter[url]"],l["filter[url]"]&&delete l["filter[url]"]),!s&&!e||a||window.history.replaceState("","",`/flow-list?${g.A.stringify(l)}`),this.flowlistStore.getFlowList(this.dataFilter,i,this.callbackOnCountriesSuccessHandler,this.callbackOnErrorHandler)})),(0,c.Mu)(this,"getFlowDate",((e,t)=>{this.statusChart=r.s.LOADING,this.dataFilter={...this.dataFilter,...e};const s={...this.globalStoreViewModel.dateFilter,...t};this.flowlistStore.getFlowDate({...e,page_size:"1000"},s,this.callbackOnEventDateSuccessHandler,this.callbackOnErrorHandler)})),(0,c.Mu)(this,"getEvents",((e,t)=>{this.status=r.s.LOADING,this.dataFilterEvents={page_size:"1000","filter_not[event_type]":"conversion",...this.dataFilterEvents,...e};const s={...this.globalStoreViewModel.dateFilter,...t};this.flowlistStore.getEvents(this.dataFilterEvents,s,this.callbackOnDataEventsSuccessHandler,this.callbackOnErrorHandler)})),(0,c.Mu)(this,"getConversion",((e,t)=>{this.status=r.s.LOADING,this.dataFilterConversion={page_size:"1000","filter[event_type]":"conversion",...this.dataFilterConversion,...e};const s={...this.globalStoreViewModel.dateFilter,...t};this.flowlistStore.getEvents(this.dataFilterConversion,s,this.callbackOnDataConversionSuccessHandler,this.callbackOnErrorHandler)})),(0,c.Mu)(this,"handleFilter",(e=>{this.status=r.s.LOADING,this.dataFilter={...this.dataFilter,...e};const t={...this.globalStoreViewModel.dateFilter};this.flowlistStore.getFlowList(this.dataFilter,t,this.callbackOnCountriesSuccessHandler,this.callbackOnErrorHandler)})),(0,c.Mu)(this,"handleFilterDateRange",((e,t)=>{this.status=r.s.LOADING;let s={date_start:p()(e).format("YYYY-MM-DD"),date_end:p()(t).endOf("day").format("YYYY-MM-DD")};this.initialize(this.dataFilter,s)})),(0,c.Mu)(this,"handleFilterFlowList",(async(e,t)=>{const s=f.b6.location;this.statusTable=r.s.LOADING,this.dataFilterFlowList={...this.dataFilter,...e},this.globalStoreViewModel.dataFilter={pagination:this.dataFilterFlowList?.page};const a={...this.globalStoreViewModel.dateFilter};if(await this.flowlistStore.getFlowList(this.dataFilterFlowList,a,this.callbackOnCountriesSuccessHandler,this.callbackOnErrorHandler),e?.page){const a={...g.A.parse(s.search),pagination:e?.page};!t&&window.history.replaceState("","",`/flow-list?${g.A.stringify(a)}`)}})),(0,c.Mu)(this,"callbackOnErrorHandler",(e=>{this.status=r.s.READY,this.statusTable=r.s.READY,(0,f.me)(e.message,"error")})),(0,c.Mu)(this,"callbackOnCountriesSuccessHandler",(e=>{if(e){if("canceled"!==e?.message&&"isCancle"!==e?.message){this.statusTable=r.s.READY;const t=new l.e(e.list,this.globalStoreViewModel);this.countriesTableData={list:t,pagination:e.pagination}}}else this.statusTable=r.s.ERROR,this.data=[]})),(0,c.Mu)(this,"callbackOnDataEventsSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.status=r.s.READY;const t=new i.B(e,this.globalStoreViewModel);this.dataEvents=t}}else this.status=r.s.ERROR,this.dataEvents=[]})),(0,c.Mu)(this,"callbackOnDataConversionSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.status=r.s.READY;const t=new i.B(e,this.globalStoreViewModel);this.dataConversion=t}}else this.status=r.s.ERROR,this.dataConversion=[]})),(0,c.Mu)(this,"callbackOnEventDateSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusChart=r.s.READY;const t=new l.e(e.list,this.globalStoreViewModel);this.eventDateData=t}}else this.status=r.s.ERROR,this.data=[]})),(0,c.Mu)(this,"toggleShowbot",(()=>{this.isShowbot=!this.isShowbot})),(0,E.l_)(this),this.flowlistStore=e,this.globalStoreViewModel=t}},Y=class{constructor(e,t){(0,c.Mu)(this,"flowListListViewModel",null),(0,c.Mu)(this,"getFlowListListViewModel",(()=>this.flowListListViewModel)),e&&(this.flowListListViewModel=new b(e,t))}},D=(0,d.lazy)((()=>Promise.all([s.e(3580),s.e(450),s.e(834),s.e(455),s.e(3651),s.e(4283),s.e(9833)]).then(s.bind(s,69833)))),_=({link:e,...t})=>{if("flow-list"===e)return d.createElement(D,{...t})},N=(0,u.PA)(class extends d.Component{constructor(e){super(e),(0,c.Mu)(this,"flowListStore",null),(0,c.Mu)(this,"flowListViewModel",null),(0,c.Mu)(this,"componentDidMount",(()=>{this.props.integration||"/"!==f.b6.location.pathname||f.b6.push(`${this.biListViewModel.activeDomain}`)}));const{viewModel:t}=e;this.viewModel=t||null,this.biListViewModel=this.viewModel?this.viewModel.getBiListViewModel():null,this.flowListStore=new w,this.flowListViewModel=new Y(this.flowListStore,this.biListViewModel)}render(){const{integration:e=!1}=this.props,{integrationLink:t,activeDomain:s}=this.biListViewModel;return d.createElement(a.j,{viewModel:this.flowListViewModel},d.createElement(n.d,{data:this?.flowListViewModel?.flowListListViewModel?.countriesTableData?.list?.data,i18n:this.props.i18n,t:this.props.t,componentRef:this.componentRef,sectionName:"location"}),d.createElement(S,{ref:e=>this.componentRef=e,integration:e,integrationLink:t,activeDomain:s}))}}),S=(0,u.PA)(class extends d.Component{constructor(e){super(e)}render(){return d.createElement("div",{className:"aesirxui"},this.props.integration?d.createElement(_,{link:this.props.integrationLink,activeDomain:this.props.activeDomain,...this.props}):d.createElement(d.Fragment,null,d.createElement(m.qh,{exact:!0,path:["/flow-list","/bi/flow-list"]},d.createElement(D,{...this.props}))))}}),O=(0,h.CI)()((0,m.y)((0,o.cm)(N)))},13899:(e,t,s)=>{s.d(t,{I:()=>i});var a=s(96540);var i=function({url:e,width:t,height:s,color:i,className:l}){return a.createElement("span",{className:`icon d-inline-block align-text-bottom ms-auto ${l}`,style:{WebkitMaskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",width:t??"24px",height:s??"24px",backgroundColor:i?`${i}`:"var(--body-color)"}})}},40440:(e,t,s)=>{s.d(t,{e:()=>d});var a=s(13899),i=s(55688),l=s(96540),n=s(99194),r=s(95093),o=s.n(r),c=s(54625),d=class{constructor(e,t){(0,i.Mu)(this,"data",[]),(0,i.Mu)(this,"globalViewModel",null),(0,i.Mu)(this,"toRaw",(()=>this.data)),(0,i.Mu)(this,"handleChangeLink",((e,t)=>{e.preventDefault(),t&&this.globalViewModel.setIntegrationLink(t)})),(0,i.Mu)(this,"toFlowListTable",(e=>{const t=["txt_time_utc","txt_locale","txt_sop_id","txt_ux_percent","txt_duration","txt_page_views","txt_action","txt_event","txt_conversion","txt_source",""],s=[n.dsY.START,n.dsY.GEO,n.dsY.SOP_ID,n.dsY.UX_PERCENT,n.dsY.DURATION,n.dsY.PAGEVIEW,n.dsY.ACTION,n.dsY.EVENT,n.dsY.CONVERSION,n.dsY.DEVICE,n.dsY.UUID];if(this.data?.length){const i=s.map(((s,i)=>({Header:t[i],accessor:s,width:s===n.dsY.START?160:s===n.dsY.SOP_ID?100:s===n.dsY.EVENT||s===n.dsY.DURATION||s===n.dsY.CONVERSION||s===n.dsY.PAGEVIEW||s===n.dsY.ACTION||s===n.dsY.DEVICE||s===n.dsY.GEO?10:s===n.dsY.UX_PERCENT?50:s===n.dsY.URL?230:s===n.dsY.UUID?80:100,allowSort:!0,sortParams:s===n.dsY.GEO?"geo.country.name":s,Cell:({cell:t,column:s,row:i})=>{if(s.id===n.dsY.GEO)return l.createElement("div",{className:"px-3"},""===t?.value?l.createElement(l.Fragment,null):l.createElement("span",{className:`me-1 fi fi-${this.data.find((e=>e[n.dsY.GEO]?.country?.code===i?.values[n.dsY.GEO]?.country?.code))?.[n.dsY.GEO]?.country?.code?.toLowerCase()}`}),l.createElement("span",{className:"text-nowrap"},""===t?.value?"Unknown":""));if(s.id===n.dsY.UUID)return l.createElement(l.Fragment,null,e?l.createElement("a",{href:"#",onClick:e=>this.handleChangeLink(e,`flow&id=${t?.value}`),className:"px-3 py-1 fs-sm d-block text-center"},l.createElement(a.I,{url:n._K2.PUBLIC_URL+"/assets/images/eye.svg",color:"#222328"})):l.createElement(c.k2,{to:`/flow/${t?.value}`,className:"px-3 py-1 fs-sm d-block text-center"},l.createElement(a.I,{url:n._K2.PUBLIC_URL+"/assets/images/eye.svg",color:"#222328"})));if(s.id===n.dsY.URL&&t?.value){const e=new URL(t?.value);let s=""===e?"Unknown":e.pathname+e.search;return l.createElement("a",{href:t?.value,target:"_blank",rel:"noreferrer",className:"px-3 d-inline-block text-secondary-50"},s?.length>53?s?.slice(0,53)+"...":s)}if(s.id===n.dsY.START)return l.createElement("div",{className:"px-3 d-flex align-items-center"},o()(t?.value)?.utc()?.format("DD-MM-YYYY HH:mm:ss"));if(s.id===n.dsY.DURATION)return l.createElement("div",{className:"px-3"},o().utc(1e3*t?.value).format("mm:ss")??0);if(s.id===n.dsY.BOUNCE_RATE)return l.createElement("div",{className:"px-3"},t?.value,"%");if(s.id===n.dsY.UX_PERCENT){const e=t?.row?.original?.uxPercentDetail??{};return l.createElement("div",{className:"ux-percent position-relative d-flex align-items-center"},l.createElement("div",{className:"set-size charts-container"},l.createElement("div",{className:"pie-wrapper progress-75 style-2"},l.createElement("div",{className:"pie "+(t?.value<=50?"below-50":"above-50")},l.createElement("div",{className:"left-side half-circle",style:{transform:`rotate(${3.6*t?.value}deg)`}}),l.createElement("div",{className:"right-side half-circle"})),l.createElement("div",{className:"shadow-pie"}))),l.createElement("div",{className:"ms-2"}," ",t?.value,"%"),l.createElement("div",{className:"position-absolute ux-percent-detail"},l.createElement("p",{className:"d-flex justify-content-between mb-0 text-white"},"Visit Actions",l.createElement("span",{className:"fw-semibold"},e[n.dsY.VISIT_ACTIONS]??0,"%")),l.createElement("p",{className:"d-flex justify-content-between mb-0 text-white"},"Event Actions",l.createElement("span",{className:"fw-semibold"},e[n.dsY.EVENT_ACTIONS]??0,"%")),l.createElement("p",{className:"d-flex justify-content-between mb-0 text-white"},"Conversion Actions",l.createElement("span",{className:"fw-semibold"},e[n.dsY.CONVERSION_ACTIONS]??0,"%"))))}return s.id===n.dsY.DEVICE?l.createElement("div",{className:"px-3 d-flex"},"bot"===t?.value?l.createElement("div",{className:"text-success py-1 px-12px rounded-1 fw-semibold text-center",style:{backgroundColor:"#1AB39426"}},"Bot"):l.createElement(l.Fragment,null)):l.createElement("div",{className:"px-3"},t?.value)}}))),r=this.data?.map((e=>({uxPercentDetail:{[n.dsY.VISIT_ACTIONS]:e[n.dsY.VISIT_ACTIONS],[n.dsY.EVENT_ACTIONS]:e[n.dsY.EVENT_ACTIONS],[n.dsY.CONVERSION_ACTIONS]:e[n.dsY.CONVERSION_ACTIONS]},...e,...s.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),d=r?.map((e=>{for(let t in e)s.includes(t)||"uxPercentDetail"===t||delete e[t];return e}));return{header:i,data:d}}return{header:[],data:[]}})),(0,i.Mu)(this,"toAreaChart",(()=>{const e=(0,n.jgq)(this.globalViewModel?.dateFilter?.date_start,this.globalViewModel?.dateFilter?.date_end),t=e.map((e=>{const t=this.data.find((t=>o()(t.date).format("YYYY-MM-DD")===e));return{name:e&&o()(e,"YYYY-MM-DD").format("DD"),event:t?.[n.dsY.EVENT]??0,conversion:t?.[n.dsY.CONVERSION]??0,pageview:t?.[n.dsY.PAGEVIEW]??0}})),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(((e,t)=>{const s=this.data.filter((e=>o()(e?.date).month()===t));let a=0,i=0,l=0;return s&&(a=s.reduce(((e,t)=>e+t[n.dsY.EVENT]),0),l=s.reduce(((e,t)=>e+t[n.dsY.CONVERSION]),0),i=s.reduce(((e,t)=>e+t[n.dsY.PAGEVIEW]),0)),{name:e,event:a,conversion:l,pageview:i}})),a={};e.forEach((e=>{const t=o()(e).startOf("isoWeek"),s=o()(e).endOf("isoWeek"),i=`${t.format("DD MMM")} - ${s.format("DD MMM")}`;a[i]||(a[i]={event:0,conversion:0,pageview:0});const l=this.data.filter((e=>o()(e?.date).isBetween(t,s,null,"[]")));if(l){const e=l.reduce(((e,t)=>e+t[n.dsY.EVENT]),0),t=l.reduce(((e,t)=>e+t[n.dsY.CONVERSION]),0),s=l.reduce(((e,t)=>e+t[n.dsY.PAGEVIEW]),0);a[i].event+=e,a[i].conversion+=t,a[i].pageview+=s}}));return[{action:s},{action:t},{action:Object.keys(a).map((e=>({name:e,event:a[e].event,conversion:a[e].conversion,pageview:a[e].pageview})))}]})),(0,i.Mu)(this,"getFilterName",(()=>[{label:"Action",value:"action"}])),e&&(this.data=e??[],this.globalViewModel=t)}}},51345:(e,t,s)=>{s.d(t,{J:()=>n,j:()=>l});var a=s(96540),i=a.createContext(),l=({children:e,viewModel:t})=>a.createElement(i.Provider,{value:t},e),n=e=>t=>a.createElement(e,{...t,viewModel:a.useContext(i)})},4692:(e,t,s)=>{s.d(t,{B:()=>c});var a=s(55688),i=s(96540),l=s(99194),n=s(95093),r=s.n(n),o=s(54625),c=class{constructor(e,t){(0,a.Mu)(this,"data",[]),(0,a.Mu)(this,"globalViewModel",null),(0,a.Mu)(this,"toRaw",(()=>this.data)),(0,a.Mu)(this,"transformResponse",(()=>{let e={};return this.data?.length>0&&this.data?.forEach((t=>{const s=this.data.filter((e=>e[l.sSJ.EVENT_NAME]===t[l.sSJ.EVENT_NAME]));e={...e,[t[l.sSJ.EVENT_NAME]]:s}})),e})),(0,a.Mu)(this,"transformEventsResponse",(()=>{let e={};return this.data?.length>0&&this.data?.forEach((t=>{const s=this.data.filter((e=>e[l.HMX.EVENT_NAME]===t[l.HMX.EVENT_NAME]));e={...e,[t[l.HMX.EVENT_NAME]]:s}})),e})),(0,a.Mu)(this,"getFilterName",(()=>{const e=this.transformResponse(),t=Object.keys(e).map((e=>({value:e,label:e})));return t?.unshift({value:"all",label:"All Event"}),t})),(0,a.Mu)(this,"getListLine",(()=>{const e=this.transformResponse();return Object.keys(e).map((e=>e))})),(0,a.Mu)(this,"toAreaChart",(()=>{const e=this.transformEventsResponse(),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=(0,l.jgq)(this.globalViewModel.dateFilter.date_start,this.globalViewModel.dateFilter.date_end),a={},i={all:s.map((t=>({name:t&&r()(t,"YYYY-MM-DD").format("DD"),...Object.keys(e).map((s=>{const a=e[s].filter((e=>e[l.HMX.DATE]===t));return{[s]:a?.length?a[0][l.HMX.TOTAL_VISITOR]:0}})).reduce(((e,t)=>({...t,...e})),{})}))),...Object.keys(e).map((t=>({[t]:s.map((s=>{const a=e[t].filter((e=>e[l.HMX.DATE]===s));return{name:s&&r()(s,"YYYY-MM-DD").format("DD MMM"),[t]:a?.length?a[0][l.HMX.TOTAL_VISITOR]:0}}))}))).reduce(((e,t)=>({...t,...e})),{})},n={all:t.map(((t,s)=>({name:t,...Object.keys(e).map((e=>{const t=this.data?.filter((e=>r()(e[l.HMX.DATE],"YYYY-MM-DD").month()===s))?.reduce(((e,t)=>e+t[l.HMX.TOTAL_VISITOR]),0);return{[e]:t??0}})).reduce(((e,t)=>({...t,...e})),{})}))),...Object.keys(e).map((e=>({[e]:t.map(((t,s)=>{const a=this.data?.filter((e=>r()(e[l.HMX.DATE],"YYYY-MM-DD").month()===s))?.reduce(((e,t)=>e+t[l.HMX.TOTAL_VISITOR]),0);return a?{name:t,[e]:a}:{name:t,[e]:0}}))}))).reduce(((e,t)=>({...t,...e})),{})};s.forEach((t=>{const s=r()(t).startOf("isoWeek").format("YYYY-MM-DD"),i=r()(t).endOf("isoWeek").format("YYYY-MM-DD"),n=`${r()(s).format("DD MMM")} - ${r()(i).format("DD MMM")}`;a[n]||(a[n]={},Object.keys(e).forEach((e=>{a[n][e]=0}))),Object.keys(e).forEach((s=>{const i=e[s].filter((e=>e[l.HMX.DATE]===t));a[n][s]+=i?.length?i[0][l.HMX.TOTAL_VISITOR]:0}))}));return[n,i,{all:Object.keys(a).map((e=>({name:e,...a[e]})))}]})),(0,a.Mu)(this,"toBarChart",(()=>{const e=this.transformEventsResponse();return Object.keys(e).map((t=>({name:t,number:e[t]?.reduce(((e,t)=>e+t[l.HMX.TOTAL_VISITOR]),0)})))})),(0,a.Mu)(this,"handleChangeLink",((e,t)=>{e.preventDefault(),t&&this.globalViewModel.setIntegrationLink(t)})),(0,a.Mu)(this,"toEventTable",(e=>{const t=["Name","Type","URL","Referer","Date",""],s=[l.sSJ.EVENT_NAME,l.sSJ.EVENT_TYPE,l.sSJ.URL,l.sSJ.REFERER,l.sSJ.START_DATE,l.sSJ.UUID];if(this.data.length){const a=s.map(((s,a)=>({Header:t[a],accessor:s,width:s===l.sSJ.UUID?10:s===l.sSJ.EVENT_TYPE?50:170,allowSort:!0,Cell:({cell:t,column:s})=>{if(s.id===l.sSJ.EVENT_NAME&&t?.value)return i.createElement(i.Fragment,null,e?i.createElement("a",{href:"#",onClick:e=>this.handleChangeLink(e,`events-detail&id=${t?.value}`),className:"px-3 text-secondary-50"},i.createElement("span",null,t?.value??null)):i.createElement(o.k2,{to:`/events-detail/${t?.value}`,className:"px-3 text-secondary-50"},t?.value??null));if(s.id===l.sSJ.UUID)return i.createElement(i.Fragment,null);if(s.id!==l.sSJ.REFERER&&s.id!==l.sSJ.URL||!t?.value)return i.createElement("div",{className:"px-3"},t?.value??null);{const e=new URL(t?.value);return i.createElement("div",{className:"px-3"},""===e?"Unknown":e.pathname+e.search)}}}))),n=this.data.map((e=>({...e,...s.map((t=>t===l.sSJ.START_DATE?{[t]:r()(e[t]).format("DD-MM-YYYY HH:mm:ss")}:{[t]:e[t]})).reduce(((e,t)=>({...t,...e})),{})}))),c=n?.map((e=>{for(let t in e)s.includes(t)||delete e[t];return e}));return{header:a,data:c}}return{header:[],data:[]}})),(0,a.Mu)(this,"toEventsList",(()=>{const e=this.data?.length?this.data?.map((e=>({value:e?.event_name,label:e?.event_name}))):[];return[{label:"All Event",value:"all"},...[...new Map(e.map((e=>[e.value,e]))).values()]]})),(0,a.Mu)(this,"toConversionList",(()=>{const e=this.data?.length?this.data?.map((e=>({value:e?.event_name,label:e?.event_name}))):[];return[{label:"All Conversion",value:"all"},...[...new Map(e.map((e=>[e.value,e]))).values()]]})),e&&(this.data=e,this.globalViewModel=t)}}}}]);