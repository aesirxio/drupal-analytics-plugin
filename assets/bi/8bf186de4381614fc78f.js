"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[575],{90575:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var i,a=s(29477),l=s(93811),o=s(90661),n=s(6193),r=(s(9783),s(67941),s(2211),s(14164)),d=s(47917),c=s(51751),m=s(53800),h=s(81252),p=s(96540),g=s(44479),w=s(61105),u=s(32389),E=s(44015),v=s(99194),_=s(54625),f=s(56347),x=s(95093),b=s.n(x),M=s(75056),y=s(55265),N=(s(12627),s(14630)),V=(0,E.PA)(class extends p.Component{constructor(e){super(e),(0,h.M)(this,"handleSortCountries",(async e=>{this.listViewModel.getCountries({"filter[domain]":this.props.domain},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByCountries["sort_direction[]"]?"asc":"desc"})})),(0,h.M)(this,"handleSortCities",(async e=>{this.listViewModel.getCities({"filter[domain]":this.props.domain},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByCities["sort_direction[]"]?"asc":"desc"})})),(0,h.M)(this,"handleSortBrowsers",(async e=>{this.listViewModel.getBrowsers({"filter[domain]":this.props.domain},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByBrowsers["sort_direction[]"]?"asc":"desc"})})),(0,h.M)(this,"handleSortDevices",(async e=>{this.listViewModel.getDevices({"filter[domain]":this.props.domain},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByDevices["sort_direction[]"]?"asc":"desc"})})),(0,h.M)(this,"handleSortLanguages",(async e=>{this.listViewModel.getLanguages({"filter[domain]":this.props.domain},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByLanguages["sort_direction[]"]?"asc":"desc"})}));const{listViewModel:t}=e;this.listViewModel=t||null,this.state={loading:!1}}render(){const{t:e}=this.props,{statusTopTable:t}=this.listViewModel;return p.createElement("div",{className:"position-relative h-100"},p.createElement(M.A.Container,{id:"left-tabs-example",defaultActiveKey:"country"},p.createElement(g.A,{className:"gx-24"},p.createElement(w.A,{sm:3,id:"customCol"},p.createElement("div",{className:"bg-white rounded-3 pe-24 shadow-sm h-100 position-relative"},p.createElement(y.A,{variant:"pills",className:"flex-column"},p.createElement(y.A.Item,null,p.createElement(y.A.Link,{eventKey:"country",className:"ps-32px"},e("txt_countries"))),p.createElement(y.A.Item,null,p.createElement(y.A.Link,{eventKey:"city",className:"ps-32px"},e("txt_cities"))),p.createElement(y.A.Item,null,p.createElement(y.A.Link,{eventKey:"browser",className:"ps-32px"},e("txt_browser"))),p.createElement(y.A.Item,null,p.createElement(y.A.Link,{eventKey:"device",className:"ps-32px"},e("txt_devices"))),p.createElement(y.A.Item,null,p.createElement(y.A.Link,{eventKey:"language",className:"ps-32px"},e("txt_language")))))),p.createElement(w.A,{sm:9},p.createElement("div",{className:"bg-white rounded-3 shadow-sm h-100 position-relative"},p.createElement(M.A.Content,null,p.createElement(M.A.Pane,{eventKey:"country"},p.createElement(o.Y,{data:this.listViewModel?.countriesTableData?.list,pagination:this.listViewModel?.countriesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterCountries({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterCountries({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortCountries,sortBy:this.listViewModel?.sortByCountries,...this.props})),p.createElement(M.A.Pane,{eventKey:"city"},p.createElement(o.Y,{data:this.listViewModel?.citiesTableData?.list,pagination:this.listViewModel?.citiesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterCities({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterCities({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortCities,sortBy:this.listViewModel?.sortByCities,...this.props})),p.createElement(M.A.Pane,{eventKey:"browser"},p.createElement(o.Y,{data:this.listViewModel?.browsersTableData?.list,pagination:this.listViewModel?.browsersTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterBrowsers({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterBrowsers({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortBrowsers,sortBy:this.listViewModel?.sortByBrowsers,...this.props})),p.createElement(M.A.Pane,{eventKey:"device"},p.createElement(o.Y,{data:this.listViewModel?.devicesTableData?.list,pagination:this.listViewModel?.devicesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterDevices({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterDevices({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortDevices,sortBy:this.listViewModel?.sortByDevices,...this.props})),p.createElement(M.A.Pane,{eventKey:"language"},p.createElement(o.Y,{data:this.listViewModel?.languagesTableData?.list,pagination:this.listViewModel?.languagesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterLanguages({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterLanguages({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortLanguages,sortBy:this.listViewModel?.sortByLanguages,...this.props}))))))))}}),S=(0,u.CI)()((0,f.y)(V)),A=(0,E.PA)((i=class extends p.Component{constructor(e){super(e),(0,h.M)(this,"componentDidMount",(()=>{this.visitorsListViewModel.initialize({"filter[domain]":this.context.biListViewModel.activeDomain})})),(0,h.M)(this,"componentDidUpdate",(e=>{this.props.location===e.location&&this.props.activeDomain===e.activeDomain||this.visitorsListViewModel.initialize({"filter[domain]":this.context.biListViewModel.activeDomain})})),(0,h.M)(this,"handleDateRangeChange",((e,t)=>{this.visitorsListViewModel.handleFilterDateRange(e??t,t??e)})),(0,h.M)(this,"handleSortFlowList",(async e=>{this.visitorsListViewModel.getFlowList({"filter[domain]":this.props.domain,"with[]":"events"},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.visitorsListViewModel?.sortBy["sort_direction[]"]?"asc":"desc"})})),(0,h.M)(this,"handleChangeLink",((e,t)=>{e.preventDefault(),t&&this.context.biListViewModel.setIntegrationLink(t)}));const{viewModel:t}=e;this.viewModel=t||null,this.visitorsListViewModel=this.viewModel?this.viewModel.getVisitorsListViewModel():null}render(){const{t:e}=this.props;return p.createElement("div",{className:"py-4 px-4"},p.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24"},p.createElement("div",null,p.createElement("h2",{className:"fw-bold mb-8px"},e("txt_visitors")),p.createElement("p",{className:"mb-0"},e("txt_analytic_details"))),p.createElement("div",{className:"position-relative"},p.createElement(d.K,{onChange:this.handleDateRangeChange}))),p.createElement(g.A,{className:"mb-24"},p.createElement(w.A,{lg:"3"},p.createElement("div",{className:"bg-white shadow-sm rounded-3 h-100 d-flex flex-column"},p.createElement("div",{className:"p-32px d-flex flex-column flex-grow-1"},p.createElement("div",{className:"bg-white pb-20 rounded-3  fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},p.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_visitors")),p.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},v.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[v.CEO.TOTAL_NUMBER_OF_VISITORS]))),p.createElement("div",{className:"bg-white pb-20 rounded-3  fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},p.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_unique_visitors")),p.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},v.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[v.CEO.NUMBER_OF_VISITORS]))),p.createElement("div",{className:"bg-white pb-20 rounded-3  fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},p.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_average_visit_duration")),p.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},this.visitorsListViewModel?.metricsData?.[v.CEO.AVERAGE_SESSION_DURATION]?b().utc(1e3*this.visitorsListViewModel?.metricsData?.[v.CEO.AVERAGE_SESSION_DURATION]).format("m [min] s [s]"):"0 min 0s")),p.createElement("div",{className:"bg-white pb-20 rounded-3  fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},p.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_page_views")),p.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},v.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[v.CEO.NUMBER_OF_PAGE_VIEWS]))),p.createElement("div",{className:"bg-white rounded-3 fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},p.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_bounce_rate")),p.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},v.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[v.CEO.BOUNCE_RATE])+"%"))))),p.createElement(w.A,{lg:9},p.createElement(n.q,{bars:["unique_visits","visits"],barColors:["#0066FF","#96C0FF"],isSelection:!1,listViewModel:this.visitorsListViewModel,status:this.visitorsListViewModel?.statusOverview,data:this.visitorsListViewModel?.visitsData?.toAreaChart(),filterData:this.visitorsListViewModel?.visitsData?.getFilterName()}))),p.createElement(S,{listViewModel:this.visitorsListViewModel,domain:this.context.biListViewModel.activeDomain}),p.createElement("div",{className:"position-relative ChartWrapper my-4 bg-white rounded-3 p-3"},p.createElement("div",{className:"d-flex align-items-center justify-content-between"},p.createElement("h4",{className:"ps-3"},e("txt_user_experience")),this.props.integration?p.createElement("a",{href:"#",onClick:e=>this.handleChangeLink(e,"/visitors-flow"),className:"text-success me-2 text-nowrap fw-semibold"},e("txt_view_more")):p.createElement(_.N_,{to:"/visitors/flow",className:"text-success me-2 text-nowrap fw-semibold"},e("txt_view_more"))),this.visitorsListViewModel?.statusFlowList===c.s.LOADING?p.createElement(N.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):this.visitorsListViewModel?.flowListTableData?.list?p.createElement(a.L,{data:this.visitorsListViewModel?.flowListTableData?.list?.toFlowListTable(this.props.integration),isPagination:!1,pagination:this.visitorsListViewModel?.flowListTableData?.pagination,selectPage:async e=>{await this.visitorsListViewModel.handleFilterFlowList({page:e})},selectPageSize:async e=>{await this.visitorsListViewModel.handleFilterFlowList({page:1,page_size:e})},status,sortAPI:!0,handleSort:this.handleSortFlowList,sortBy:this.visitorsListViewModel?.sortByFlowList,...this.props}):p.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},p.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},p.createElement(r.J,{icons:v._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:e("txt_no_data"),width:"w-50"})))))}},(0,h.M)(i,"contextType",m.Dx),i)),C=(0,u.CI)()((0,f.y)((0,l.U)(A)))},6193:(e,t,s)=>{s.d(t,{q:()=>d});var i=s(9783),a=s(96540),l=s(32389),o=s(44015),n=s(56347),r=(0,o.PA)(class extends a.Component{constructor(e){super(e);const{listViewModel:t}=e;this.listViewModel=t||null,this.state={loading:!1}}render(){const{t:e,status:t,bars:s,barColors:l,data:o,filterData:n}=this.props;return a.createElement("div",{className:"position-relative h-100"},a.createElement(i.n,{height:500,data:o,colors:["#1AB394"],layout:"horizontal",barColors:l,bars:s,hiddenGrid:{vertical:!1},XAxisOptions:{axisLine:!0,padding:{left:50,right:50}},defaultValue:{label:"Visitors",value:"visitors"},options:[{label:"Visitors",value:"visitors"}],loading:t,tooltipComponent:{header:e("txt_in_total"),value:1===s?.length&&s[0]+":"},status:t,filterData:n,isSelection:!1,isLegend:!0,filterButtons:["days","months","weeks"]}))}}),d=(0,l.CI)()((0,n.y)(r))},29477:(e,t,s)=>{s.d(t,{L:()=>h});var i=s(2211),a=s(14164),l=s(99194),o=s(96540),n=s(32389),r=s(67008),d=s(20982),c=s(3569),m=s(14630),h=(0,n.CI)()((e=>{const{data:t,t:s,isPagination:n=!0,simplePagination:h=!1,pagination:p,selectPage:g,selectPageSize:w,status:u,limit:E,isPaginationAPI:v=!!n,sortAPI:_,handleSort:f,sortBy:x}=e,b=o.useMemo((()=>t?.header.map(((e,i)=>{let a="";switch(e?.accessor){case l.CEO.NUMBER_OF_VISITORS:case l.CEO.NUMBER_OF_PAGE_VIEWS:case l.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS:case l.CEO.BOUNCE_RATE:case l.CEO.NUMBER_OF_PAGES_PER_SESSION:case l.CEO.AVERAGE_SESSION_DURATION:break;default:a=""}return{...e,className:`px-3 py-16 fs-sm fw-semibold border-bottom ${i+1===t?.header.length?"rounded-top-end-3":""} ${0===i?"rounded-top-start-3":""}`,width:e.width?e.width:0===i?"auto":170,allowSort:e?.allowSort||!1,Header:o.createElement("span",{className:"align-middle"},s(e.Header),a&&o.createElement(o.Fragment,null,o.createElement(d.g,{"data-tooltip-id":"tooltipTable","data-tooltip-content":s(a),className:"mx-sm fs-12 mb-1",icon:c.mE}),o.createElement(r.m_,{id:"tooltipTable"})))}}))),[t?.header]),M=o.useMemo((()=>t?.data),[t?.data]);return o.createElement("div",{className:"h-100 position-relative"},u===m.Zg.LOADING?o.createElement(m.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?o.createElement(i.x,{classNameTable:"mb-0",columns:b,data:M,canSort:!0,pagination:n,paginationClass:"fs-14 border-top mt-2",isPaginationAPI:v,paginationResponse:p,selectPage:g,selectPageSize:w,simplePagination:h,limit:E,sortAPI:_,sortAPIHandle:f,sortBy:x}):o.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},o.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},o.createElement(a.J,{icons:l._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:s("txt_no_data"),width:"w-50"}))))}))},90661:(e,t,s)=>{s.d(t,{Y:()=>g});var i=s(2211),a=s(14164),l=s(51751),o=s(96540),n=s(32389),r=s(56347),d=s(14630),c=s(99194),m=s(67008),h=s(20982),p=s(3569),g=(0,n.CI)()((0,r.y)((e=>{const{data:t,isPagination:s=!0,simplePagination:n=!1,pagination:r,selectPage:g,selectPageSize:w,status:u,limit:E,isPaginationAPI:v=!!s,t:_,sortAPI:f,handleSort:x,sortBy:b}=e,M=o.useMemo((()=>t?.header?.map(((e,t)=>{let s="";switch(e?.accessor){case c.CEO.NUMBER_OF_VISITORS:s="txt_tooltip_visitors";break;case c.CEO.NUMBER_OF_PAGE_VIEWS:s="txt_tooltip_page_views";break;case c.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS:s="txt_tooltip_unique_page_views";break;case c.CEO.BOUNCE_RATE:s="txt_tooltip_bounce_rate";break;case c.CEO.NUMBER_OF_PAGES_PER_SESSION:s="txt_tooltip_page_session";break;case c.CEO.AVERAGE_SESSION_DURATION:s="txt_tooltip_avg_session_duration";break;default:s=""}return{...e,className:`px-15 py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${0!==t?"rounded-top-end-3 text-end":""} ${0===t?"rounded-top-start-3":""}`,width:e.width?e.width:0===t?"auto":170,allowSort:e?.allowSort||!1,Header:o.createElement("span",{className:"align-middle text-gray-900 fw-medium"},_(e.Header),s&&o.createElement(o.Fragment,null,o.createElement(h.g,{"data-tooltip-id":"tooltipTable","data-tooltip-content":_(s),className:"mx-sm fs-12 mb-1",icon:p.mE}),o.createElement(m.m_,{id:"tooltipTable"})))}}))),[t?.header]),y=o.useMemo((()=>t?.data),[t?.data]);return o.createElement(o.Fragment,null,u===l.s.LOADING?o.createElement(d.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?o.createElement(i.x,{classNameTable:"mb-0",columns:M,data:y,canSort:!0,pagination:s,paginationClass:"fs-14 border-top mt-2",isPaginationAPI:v,paginationResponse:r,selectPage:g,selectPageSize:w,simplePagination:n,limit:E,sortAPI:f,sortAPIHandle:x,sortBy:b}):o.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},o.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},o.createElement(a.J,{icons:c._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:_("txt_no_data"),width:"w-50"}))))})))}}]);