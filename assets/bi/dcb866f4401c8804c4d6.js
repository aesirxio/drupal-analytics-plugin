"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[8195],{98195:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s,n=a(23518),l=a(52921),i=(a(16505),a(28949)),o=a(15218),r=a(20513),c=a(70069),d=a(23541),m=a(67294),p=a(91072),g=a(38585),h=a(16550),u=a(26982),b=a(73022),w=(a(7034),a(12086)),E=(0,g.Pi)((s=class extends m.Component{constructor(e){super(e),(0,d.o)(this,"componentDidUpdate",(e=>{this.props.location===e.location||this.props.integration||this.flowListListViewModel.initialize({"filter[domain]":this.context.biListViewModel.activeDomain,"with[]":"events",...this.params?.pagination&&{page:this.params?.pagination}}),this.props.activeDomain!==e.activeDomain&&this.props.integration&&this.flowListListViewModel.initialize({"filter[domain]":this.context.biListViewModel.activeDomain,"with[]":"events",...this.params?.pagination&&{page:this.params?.pagination}})})),(0,d.o)(this,"componentDidMount",(()=>{this.flowListListViewModel.initialize({"filter[domain]":this.context.biListViewModel.activeDomain,"with[]":"events",...this.params?.pagination&&{page:this.params?.pagination}})})),(0,d.o)(this,"handleDateRangeChange",((e,t)=>{this.flowListListViewModel.handleFilterDateRange(e??t,t??e)})),(0,d.o)(this,"handleSortFlowList",(async e=>{this.flowListListViewModel.getFlowList({"filter[domain]":this.props.domain,"with[]":"events"},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.flowListListViewModel?.sortBy["sort_direction[]"]?"asc":"desc"})}));const{viewModel:t}=e;this.viewModel=t||null,this.flowListListViewModel=this.viewModel?this.viewModel.getFlowListListViewModel():null,this.params=w.Z.parse(e.location.search)}render(){const{t:e}=this.props,{status:t}=this.flowListListViewModel;return m.createElement(m.Fragment,null,m.createElement("div",{className:"py-4 px-4 d-flex flex-column"},m.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24 flex-wrap"},m.createElement("div",{className:"position-relative"},m.createElement("h2",{className:"fw-bold mb-8px"},e("txt_user_experience")),m.createElement("p",{className:"mb-0"},e("txt_analytic_details"))),m.createElement("div",{className:"position-relative"},m.createElement(o.r,{onChange:this.handleDateRangeChange}))),m.createElement("div",{className:"position-relative ChartWrapper"},t===r.r.LOADING?m.createElement(u.QI,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):this.flowListListViewModel?.countriesTableData?.list?m.createElement(l.P,{data:this.flowListListViewModel?.countriesTableData?.list?.toFlowListTable(this.props.integration),pagination:this.flowListListViewModel?.countriesTableData?.pagination,selectPage:async e=>{await this.flowListListViewModel.handleFilterFlowList({page:e})},selectPageSize:async e=>{await this.flowListListViewModel.handleFilterFlowList({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortFlowList,sortBy:this.flowListListViewModel?.sortBy,...this.props}):m.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},m.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},m.createElement(i.x,{icons:b.OBj.PUBLIC_URL+"/assets/images/ic_project.svg",title:e("txt_no_data"),width:"w-50"}))))))}},(0,d.o)(s,"contextType",c.Fv),s)),x=(0,p.Zh)()((0,h.EN)((0,n.w)(E)))},28949:(e,t,a)=>{a.d(t,{x:()=>d});var s=a(67294),n=a(91072),l=a(26982),i=a(70982),o=a(73727),r=a(59417);document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode("/*\n * @copyright   Copyright (C) 2022 AesirX. All rights reserved.\n * @license     GNU General Public License version 3, see LICENSE.\n */\n.icon-post {\n  background: #cbf8ef;\n}\n\n.icon-project {\n  background: #ffeadc;\n}\n\n.icon-campain {\n  background: #fadae3;\n}"));var c=class extends s.Component{constructor(e){super(e)}render(){const{icons:e,text:t,title:a,link:n,linlText:c,isBtn:d,width:m,className:p,iconColor:g,iconBg:h}=this.props;return s.createElement("div",{className:p||"text-center h-100 d-flex flex-column justify-content-center align-items-center"},s.createElement("p",{style:{width:"48px",height:"55px"},className:`my-2 d-inline-block position-relative rounded-circle ${h}`},s.createElement(l.Ee,{className:`position-absolute top-50 start-50 translate-middle ${g}`,src:e,alt:e})),a&&s.createElement("h5",{className:"mb-2"},a),t&&s.createElement("p",{className:`mb-2 fs-14 text-black-50 w-100 mx-auto ${m}`},t),d&&s.createElement(o.rU,{to:{pathname:n,state:{openModal:!0}},className:"btn btn-success d-inline-block w-fit"},s.createElement("i",{className:"text-white me-2"},s.createElement(i.G,{icon:r.r8p})),c))}},d=(0,n.Zh)()(c)},52921:(e,t,a)=>{a.d(t,{P:()=>p});var s=a(16505),n=a(28949),l=a(73022),i=a(67294),o=a(91072),r=a(42444),c=a(70982),d=a(56646),m=a(26982),p=(0,o.Zh)()((e=>{const{data:t,t:a,isPagination:o=!0,simplePagination:p=!1,pagination:g,selectPage:h,selectPageSize:u,status:b,limit:w,isPaginationAPI:E=!!o,sortAPI:x,handleSort:y,sortBy:v}=e,N=i.useMemo((()=>t?.header.map(((e,s)=>{let n="";switch(e?.accessor){case l.lF8.NUMBER_OF_VISITORS:case l.lF8.NUMBER_OF_PAGE_VIEWS:case l.lF8.NUMBER_OF_UNIQUE_PAGE_VIEWS:case l.lF8.BOUNCE_RATE:case l.lF8.NUMBER_OF_PAGES_PER_SESSION:case l.lF8.AVERAGE_SESSION_DURATION:break;default:n=""}return{...e,className:`px-3 py-16 fs-sm fw-semibold border-bottom ${s+1===t?.header.length?"rounded-top-end-3":""} ${0===s?"rounded-top-start-3":""}`,width:e.width?e.width:0===s?"auto":170,allowSort:e?.allowSort||!1,Header:i.createElement("span",{className:"align-middle"},a(e.Header),n&&i.createElement(i.Fragment,null,i.createElement(c.G,{"data-tooltip-id":"tooltipTable","data-tooltip-content":a(n),className:"mx-sm fs-12 mb-1",icon:d.DB}),i.createElement(r.u,{id:"tooltipTable"})))}}))),[t?.header]),f=i.useMemo((()=>t?.data),[t?.data]);return i.createElement("div",{className:"h-100 position-relative"},b===m.t_.LOADING?i.createElement(m.QI,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?i.createElement(s.k,{classNameTable:"mb-0",columns:N,data:f,canSort:!0,pagination:o,paginationClass:"fs-14 border-top mt-2",isPaginationAPI:E,paginationResponse:g,selectPage:h,selectPageSize:u,simplePagination:p,limit:w,sortAPI:x,sortAPIHandle:y,sortBy:v}):i.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},i.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},i.createElement(n.x,{icons:l.OBj.PUBLIC_URL+"/assets/images/ic_project.svg",title:a("txt_no_data"),width:"w-50"}))))}))},16505:(e,t,a)=>{a.d(t,{k:()=>h});var s=a(28949),n=a(15218),l=a(20513),i=a(67294),o=a(79521),r=a(91072),c=a(70982),d=a(59417),m=a(73022),p=a(26982);function g({row:e,rowProps:t,visibleColumns:a,data:s,loading:n}){return n?i.createElement("tr",null,i.createElement("td",null),i.createElement("td",{colSpan:a.length-1},"Loading...")):i.createElement(i.Fragment,null,s?.length&&i.createElement(i.Fragment,null,s.map(((a,s)=>i.createElement("tr",{...t,key:`${t.key}-expanded-${s}`,className:"border-bottom row_sub_component"},e.cells.map(((t,n)=>i.createElement("td",{...t.getCellProps(),key:n,className:`py-2 wb-all align-middle sub-cell-${t.column.id} `},t.render("SubCell",{value:t.column.accessor(a,s),row:{...e,original:a}})))))))))}document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode("/*\n * @copyright   Copyright (C) 2022 AesirX. All rights reserved.\n * @license     GNU General Public License version 3, see LICENSE.\n */\n.sort-icon {\n  height: 20px;\n}"));var h=(0,r.Zh)()((({columns:e,data:t,pagination:a,onSelect:r,dataList:h,classNameTable:u,canSort:b,sortAPI:w,sortAPIHandle:E,sortBy:x,limit:y,paginationClass:v,isPaginationAPI:N,paginationResponse:f,selectPage:P,selectPageSize:_,simplePagination:L=!1,status:C,hasSubRow:S,idKey:k,...F})=>{const{getTableProps:I,getTableBodyProps:M,headerGroups:B,prepareRow:R,rows:A,visibleColumns:U,page:V,pageOptions:D,previousPage:O,canPreviousPage:G,canNextPage:T,pageCount:z,gotoPage:$,setPageSize:j,nextPage:W,state:{pageIndex:H,pageSize:Z}}=(0,o.useTable)({columns:e,data:t,onSelect:r,initialState:{pageSize:(N?f?.page_size:y)??5,pageIndex:0}},o.useSortBy,o.useExpanded,o.usePagination),K=i.useCallback((({row:e,rowProps:t,visibleColumns:a,subRow:s,idKey:n})=>i.createElement(g,{row:e,rowProps:t,visibleColumns:a,loading:C===l.r.LOADING,data:s,idKey:n})),[C]),Q=async e=>{await P(e)},{t:X}=F;let q=N?[...Array(f?.total_pages)]:[...Array(D.length)];return i.createElement(i.Fragment,null,i.createElement("div",{className:"bg-white fs-14 rounded-3 position-relative text-gray-900"},A.length?i.createElement("table",{...I(),className:`w-100 ${u}`},i.createElement("thead",null,B.map(((e,t)=>{let a="";return a=h?e.headers.filter((e=>!h.some((t=>e.id===t)))):e.headers,i.createElement("tr",{key:t,...e.getHeaderGroupProps()},a.map(((e,t)=>{let a=e.sortParams??e.id,s="";return e.rowSpan&&b&&!w&&(s=e.columns[0]),i.createElement("th",{key:t,...!w&&e?.allowSort&&{...e.getHeaderProps(b&&!e.rowSpan?e.getSortByToggleProps():s&&s.getSortByToggleProps())},className:`${e.className} ${w&&e?.allowSort&&"number"!==a&&"selection"!==a?"cursor-pointer":""}`,...w&&e?.allowSort&&"number"!==a&&"selection"!==a&&{onClick:async()=>{E(e)}},rowSpan:`${e.rowSpan??1}`},e.render("Header"),b&&e?.allowSort&&i.createElement("span",{className:"position-relative align-middle"},w?x&&x["sort[]"]===a&&"number"!==a&&"selection"!==a?"desc"===x["sort_direction[]"]?i.createElement(c.G,{className:"sort-icon sort-icon-down ms-sm mt-n3",icon:d.u9C}):i.createElement(c.G,{className:"sort-icon sort-icon-up ms-sm mb-nsm",icon:d.foy}):i.createElement(i.Fragment,null):e.rowSpan?s.isSorted&&"number"!==a&&"selection"!==a?s.isSortedDesc?i.createElement(c.G,{className:"sort-icon sort-icon-down ms-sm mt-n3",icon:d.u9C}):i.createElement(c.G,{className:"sort-icon sort-icon-up ms-sm mb-nsm",icon:d.foy}):"":e.isSorted&&"number"!==a&&"selection"!==a?e.isSortedDesc?i.createElement(c.G,{className:"sort-icon sort-icon-down ms-sm mt-n3",icon:d.u9C}):i.createElement(c.G,{className:"sort-icon sort-icon-up ms-sm mb-nsm",icon:d.foy}):i.createElement(i.Fragment,null)))})))}))),i.createElement("tbody",{...M()},V.length>0&&V.map((e=>{R(e);const t=e.getRowProps();let a="";a=h?e.cells.filter((e=>!h.some((t=>e.column.id===t)))):e.cells;const s=e.cells.find((e=>e?.column?.id===k))?.value??[];return i.createElement(i.Fragment,{key:e.getRowProps().key},i.createElement("tr",{...e.getRowProps()},a.map(((e,t)=>i.createElement("td",{key:t,...e.getCellProps({style:{width:e.column.width}}),className:"py-2 wb-all align-middle"},e.render("Cell"))))),!1===S?null:e.isExpanded&&K({row:e,rowProps:t,visibleColumns:U,subRow:s,idKey:k}))})))):null,0===A.length?i.createElement("div",{className:""},i.createElement(s.x,{icons:m.OBj.PUBLIC_URL+"/assets/images/ic_project.svg",title:X("txt_no_data"),width:"w-50"})):null),a&&D.length?i.createElement("div",{className:`d-flex align-items-center justify-content-between ${v}`},L?i.createElement("div",{className:"text-gray-900 fw-light"},1===f?.page?1:f?.page_size*(f?.page-1),"-",f?.total_elements<=f?.page_size?f?.total_elements:f?.page_size*f?.page," ","to ",f?.total_elements):i.createElement("div",{className:"d-flex align-items-center"},i.createElement("span",{className:"text-gray-600 me-16"},"Showing"),i.createElement("div",{className:"bg-white"},i.createElement(p.nW,{isClearable:!1,isSearchable:!1,isBorder:!1,isShadow:!1,menuPlacement:"top",options:[{label:5,value:5},{label:10,value:10},{label:20,value:20},{label:30,value:30},{label:40,value:40},{label:50,value:50}],getOptionLabel:e=>i.createElement("div",{className:"showing-option d-flex align-items-center"},i.createElement("span",null,e.label," items")),className:"shadow-none select-bg-white",onChange:e=>{N?(async e=>{await _(e)})(Number(e.value)):j(Number(e.value))},defaultValue:{label:N?f?.page_size:Z,value:N?f?.page_size:Z}}))),i.createElement("div",{className:"mt-2 pb-2 text-center pagination d-flex justify-content-end align-items-center"},i.createElement("button",{className:(L?"border-0":"border-1 border-gray-800")+" bg-white text-body btn p-0 w-40px h-40px rounded-0 rounded-top-start rounded-bottom-start",onClick:()=>N?Q(f?.page-1):O(),disabled:N?1===f?.page:!G},i.createElement(n.s,{url:m.OBj.PUBLIC_URL+"/assets/images/chevron_left.svg",color:N?1===f?.page?"#5F5E70":"#1ab394":G?"#1ab394":"#5F5E70"}))," ",!L&&i.createElement(i.Fragment,null,i.createElement("button",{onClick:()=>N?Q(1):$(0),className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+((N?1===f?.page:H+1===1)?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},1),(N?f?.page>3:H>3)&&i.createElement("button",{className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px bg-white text-body",style:{width:"38px",height:"38px"}},"..."),q.map(((e,t)=>{let a=N?f?.page===t+1:H+1===t+1;return(N?0!==t&&t!==f?.total_pages-1&&t<f?.page-1+3&&t>f?.page-1-3:0!==t&&t!==D.length-1&&t<H+3&&t>H-3)&&i.createElement("button",{onClick:()=>N?Q(t+1):$(t),key:t,className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+(a?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},t+1)})),(N?f?.page<f?.total_pages-3:H<D.length-4)&&i.createElement("button",{className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px bg-white text-body",style:{width:"38px",height:"38px"}},"..."),(N?f?.total_pages>1:D.length>1)&&i.createElement("button",{onClick:()=>N?Q(f?.total_pages):$(z-1),className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+((N?f?.page===f?.total_pages:H+1===D.length)?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},N?f?.total_pages:D.length)),i.createElement("button",{className:` ${L?"border-0":"border-1 border-gray-800"} bg-white text-body btn p-0 w-40px h-40px rounded-0 rounded-top-end rounded-bottom-end`,onClick:()=>N?Q(f?.page+1):W(),disabled:N?f?.page===f?.total_pages:!T},i.createElement(n.s,{url:m.OBj.PUBLIC_URL+"/assets/images/chevron_right.svg",color:N?f?.page===f?.total_pages?"#5F5E70":"#1ab394":T?"#1ab394":"#5F5E70"})))):null)}))},15218:(e,t,a)=>{a.d(t,{r:()=>r,s:()=>o});var s=a(70069),n=a(67294),l=a(73022),i=a(26982);var o=function({url:e,width:t,height:a,color:s,className:l}){return n.createElement("span",{className:`icon d-inline-block align-text-bottom ms-auto ${l}`,style:{WebkitMaskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",width:t??"24px",height:a??"24px",backgroundColor:s?`${s}`:"var(--body-color)"}})},r=e=>{const[t,a]=(0,n.useState)(!1),r=(0,n.useRef)(null),{onChange:c}=e,{biListViewModel:{dateFilter:{date_start:d,date_end:m},setDateFilter:p}}=(0,s.mQ)(s.Fv);return n.createElement("div",{style:{minHeight:"48px"},ref:r,className:"d-flex align-items-center bg-white rounded-1 shadow-sm daterange-picker-wrapper"},n.createElement(i.yU,{isOpen:t,setIsOpen:a,datePickerRef:r,onChange:c,dateStart:d,dateEnd:m,setDateFilter:p}),n.createElement("div",{className:"calendar-icon position-absolute top-50 translate-middle-y"},n.createElement(o,{url:l.OBj.PUBLIC_URL+"/assets/images/calendar.svg",color:"#00B96D"})))}}}]);