"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[6465],{16465:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var l=t(44456),s=(t(24899),t(96540)),n=t(9072),r=t(26801),m=t(12664),i=t(2543),c=t(36402),u=t(20982),d=t(66188),o=({accountInfo:e})=>{const[a,t]=(0,s.useState)(!1),{handleOnData:o}=(0,s.useContext)(l.kF),b=(0,s.useCallback)((0,i.debounce)(l.DT,200),[]),h=(0,r.Wx)({initialValues:{email:""},validationSchema:m.Ik((()=>{const e={};return e.email=m.Yj().email("Please enter valid email").required("Please enter your email").test("unique","This Email is already taken",(async e=>await b(e))),e})()),onSubmit:async a=>{t(!0);try{const s=await(0,l.ON)({id:e?.memberId,sendmail:1,...a},e?.data?.access_token);s?.result?.success?o(e?.data):(0,n.oR)(s?.result?.message,{closeOnClick:!1}),t(!1)}catch(e){t(!1)}}});return s.createElement(c.A,{onSubmit:h.handleSubmit},s.createElement("div",{className:"mb-4"},s.createElement("p",null,"Your account is missing an email address.",s.createElement("br",null),"Please update it to continue."),s.createElement(c.A.Group,{className:"mb-3 w-100"},s.createElement(c.A.Label,{className:"mb-2"},"Email address ",s.createElement("span",{className:"text-danger"},"*")),s.createElement("div",{className:"position-relative"},s.createElement(c.A.Control,{type:"email",name:"email",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.email,className:"py-13px lh-sm "+(h.touched.email&&h.errors.email?"border-danger":"")})),h.touched.email&&h.errors.email?s.createElement("p",{className:"mt-2 mb-0 p-0 border-0 text-danger d-flex align-items-center"},s.createElement(u.g,{icon:d.lEd,width:14,height:14}),s.createElement("span",{className:"fs-7 fw-semibold ms-2 lh-1"},h.errors.email)):null)),s.createElement("button",{type:"submit",className:"btn btn-success w-100 lh-sm text-white fw-semibold"},a?s.createElement(s.Fragment,null,s.createElement("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Waiting..."):"Update"))}}}]);