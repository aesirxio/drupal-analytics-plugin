"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[9706],{3569:(e,t)=>{var a="circle-info",n=["info-circle"],s="f05a",l="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z";t.mw={prefix:"fas",iconName:a,icon:[512,512,n,s,l]},t.mE=t.mw},99706:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var n,s=a(59847),l=a(48298),i=a(16640),o=a(51751),r=a(53800),c=a(81252),d=a(96540),m=a(32389),p=a(44015),g=a(56347),u=a(418),h=a(44011),b=a(99194),w=a(67008),E=a(20982),x=a(3569),y=(0,m.CI)()((0,g.y)((e=>{const{data:t,isPagination:a=!0,simplePagination:n=!1,pagination:s,selectPage:r,selectPageSize:c,status:m,limit:p,isPaginationAPI:g=!!a,t:u,sortAPI:y,handleSort:_,sortBy:v}=e,N=d.useMemo((()=>t?.header?.map(((e,a)=>{let n="";switch(e?.accessor){case b.CEO.NUMBER_OF_VISITORS:n="txt_tooltip_outlink";break;case b.CEO.NUMBER_OF_PAGE_VIEWS:n="txt_tooltip_page_views";break;case b.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS:n="txt_tooltip_unique_page_views";break;case b.CEO.BOUNCE_RATE:n="txt_tooltip_bounce_rate";break;case b.CEO.NUMBER_OF_PAGES_PER_SESSION:n="txt_tooltip_page_session";break;case b.CEO.AVERAGE_SESSION_DURATION:n="txt_tooltip_avg_session_duration";break;default:n=""}return{...e,className:`px-15 py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${1!==a?"rounded-top-end-3 text-end":""} ${1===a?"rounded-top-start-3":""}`,width:e.width?e.width:0===a?"auto":170,allowSort:e?.allowSort||!1,subRows:e?.subRows??[],Header:d.createElement("span",{className:"align-middle text-gray-900 fw-medium"},u(e.Header),n&&d.createElement(d.Fragment,null,d.createElement(E.g,{"data-tooltip-id":"tooltipTable","data-tooltip-content":u(n),className:"mx-sm fs-12 mb-1","data-tooltip-place":""+(a===t?.header?.length-1?"top-end":"top"),icon:x.mE}),d.createElement(w.m_,{id:"tooltipTable"})))}}))),[t?.header]),P=d.useMemo((()=>t?.data),[t?.data]);return d.createElement(d.Fragment,null,m===o.s.LOADING?d.createElement(h.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?d.createElement(l.x,{classNameTable:"mb-0",columns:N,data:P,canSort:!0,pagination:a,paginationClass:"fs-14 border-top mt-2",isPaginationAPI:g,paginationResponse:s,selectPage:r,selectPageSize:c,simplePagination:n,limit:p,sortAPI:y,sortAPIHandle:_,sortBy:v,listViewModel:e.listViewModel,hasSubRow:!0,status:m,idKey:"urls"}):d.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},d.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},d.createElement(i.Js,{icons:b._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:u("txt_no_data"),width:"w-50"}))))}))),_=(0,p.PA)(class extends d.Component{constructor(e){super(e);const{listViewModel:t}=e;this.listViewModel=t||null,this.state={loading:!1}}render(){const{statusTopTable:e}=this.listViewModel;return d.createElement("div",{className:"position-relative h-100"},d.createElement("div",{className:"bg-white rounded-3 shadow-sm h-100 position-relative ChartWrapper"},d.createElement(y,{data:this.listViewModel?.outlinkTableData?.list?.toOutlinkTableTop(this.props.integration),pagination:this.listViewModel?.outlinkTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterOutlink({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterOutlink({page:1,page_size:e})},status:e,sortAPI:!0,handleSort:this.props.handleSort,sortBy:this.listViewModel?.sortBy,...this.props})))}}),v=(0,m.CI)()((0,g.y)(_)),N=(0,p.PA)((n=class extends d.Component{constructor(e){super(e),(0,c.M)(this,"componentDidMount",(()=>{this.outlinkListViewModel.initialize({"filter[domain]":this.context.biListViewModel.activeDomain},{},{...this.params?.pagination&&{page:this.params?.pagination}})})),(0,c.M)(this,"componentDidUpdate",(e=>{this.props.location===e.location&&this.props.activeDomain===e.activeDomain||this.outlinkListViewModel.initialize({"filter[domain]":this.context.biListViewModel.activeDomain},{},{...this.params?.pagination&&{page:this.params?.pagination}})})),(0,c.M)(this,"handleDateRangeChange",((e,t)=>{this.outlinkListViewModel.handleFilterDateRange(e??t,t??e)})),(0,c.M)(this,"handleSort",(async e=>{this.outlinkListViewModel.getPages({"filter[domain]":this.context.biListViewModel.activeDomain},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.outlinkListViewModel?.sortBy["sort_direction[]"]?"asc":"desc"})})),(0,c.M)(this,"handleSearch",(async e=>{this.outlinkListViewModel.getPages({"filter[domain]":this.context.biListViewModel.activeDomain},{},{},{"filter[url]":e})}));const{viewModel:t}=e;this.viewModel=t||null,this.outlinkListViewModel=this.viewModel?this.viewModel.getOutlinkListViewModel():null,this.params=u.A.parse(e.location.search)}render(){const{t:e}=this.props;return d.createElement("div",{className:"py-4 px-4"},d.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24"},d.createElement("div",null,d.createElement("h2",{className:"fw-bold mb-8px"},e("txt_outlinks")),d.createElement("p",{className:"mb-0"},e("txt_analytic_details"))),d.createElement("div",{className:"position-relative"},d.createElement(i.Kp,{onChange:this.handleDateRangeChange}))),d.createElement(v,{listViewModel:this.outlinkListViewModel,handleSort:this.handleSort,handleSearch:this.handleSearch,...this.props}))}},(0,c.M)(n,"contextType",r.Dx),n)),P=(0,m.CI)()((0,g.y)((0,s.X)(N)))},48298:(e,t,a)=>{a.d(t,{x:()=>g});var n=a(16640),s=a(51751),l=a(96540),i=a(32885),o=a(32389),r=a(20982),c=a(66188),d=a(99194),m=a(44011);function p({row:e,rowProps:t,visibleColumns:a,data:n,loading:s}){return s?l.createElement("tr",null,l.createElement("td",null),l.createElement("td",{colSpan:a.length-1},"Loading...")):l.createElement(l.Fragment,null,n?.length&&l.createElement(l.Fragment,null,n.map(((a,n)=>l.createElement("tr",{...t,key:`${t.key}-expanded-${n}`,className:"border-bottom row_sub_component"},e.cells.map(((t,s)=>l.createElement("td",{...t.getCellProps(),key:s,className:`py-2 wb-all align-middle sub-cell-${t.column.id} `},t.render("SubCell",{value:t.column.accessor(a,n),row:{...e,original:a}})))))))))}document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode("/*\n * @copyright   Copyright (C) 2022 AesirX. All rights reserved.\n * @license     GNU General Public License version 3, see LICENSE.\n */\n.sort-icon {\n  height: 20px;\n}"));var g=(0,o.CI)()((({columns:e,data:t,pagination:a,onSelect:o,dataList:g,classNameTable:u,canSort:h,sortAPI:b,sortAPIHandle:w,sortBy:E,limit:x,paginationClass:y,isPaginationAPI:_,paginationResponse:v,selectPage:N,selectPageSize:P,simplePagination:C=!1,status:S,hasSubRow:k,idKey:f,tdClass:M,...I})=>{const{getTableProps:L,getTableBodyProps:R,headerGroups:V,prepareRow:A,rows:D,visibleColumns:O,page:B,pageOptions:F,previousPage:T,canPreviousPage:U,canNextPage:z,pageCount:$,gotoPage:G,setPageSize:K,nextPage:H,state:{pageIndex:j,pageSize:W}}=(0,i.useTable)({columns:e,data:t,onSelect:o,initialState:{pageSize:(_?v?.page_size:x)??5,pageIndex:0}},i.useSortBy,i.useExpanded,i.usePagination),J=l.useCallback((({row:e,rowProps:t,visibleColumns:a,subRow:n,idKey:i})=>l.createElement(p,{row:e,rowProps:t,visibleColumns:a,loading:S===s.s.LOADING,data:n,idKey:i})),[S]),X=async e=>{await N(e)},{t:Y}=I;let Q=_?[...Array(v?.total_pages)]:[...Array(F.length)];return l.createElement(l.Fragment,null,l.createElement("div",{className:"bg-white fs-14 rounded-3 position-relative text-gray-900"},D.length?l.createElement("table",{...L(),className:`w-100 ${u}`},l.createElement("thead",null,V.map(((e,t)=>{let a="";return a=g?e.headers.filter((e=>!g.some((t=>e.id===t)))):e.headers,l.createElement("tr",{key:t,...e.getHeaderGroupProps()},a.map(((e,t)=>{let a=e.sortParams??e.id,n="";return e.rowSpan&&h&&!b&&(n=e.columns[0]),l.createElement("th",{key:t,...!b&&e?.allowSort&&{...e.getHeaderProps(h&&!e.rowSpan?e.getSortByToggleProps():n&&n.getSortByToggleProps())},className:`${e.className} ${b&&e?.allowSort&&"number"!==a&&"selection"!==a?"cursor-pointer":""}`,...b&&e?.allowSort&&"number"!==a&&"selection"!==a&&{onClick:async()=>{w(e)}},rowSpan:`${e.rowSpan??1}`},e.render("Header"),h&&e?.allowSort&&l.createElement("span",{className:"position-relative align-middle"},b?E&&E["sort[]"]===a&&"number"!==a&&"selection"!==a?"desc"===E["sort_direction[]"]?l.createElement(r.g,{className:"sort-icon sort-icon-down ms-sm mt-n3",icon:c.Ync}):l.createElement(r.g,{className:"sort-icon sort-icon-up ms-sm mb-nsm",icon:c.Dvs}):l.createElement(l.Fragment,null):e.rowSpan?n.isSorted&&"number"!==a&&"selection"!==a?n.isSortedDesc?l.createElement(r.g,{className:"sort-icon sort-icon-down ms-sm mt-n3",icon:c.Ync}):l.createElement(r.g,{className:"sort-icon sort-icon-up ms-sm mb-nsm",icon:c.Dvs}):"":e.isSorted&&"number"!==a&&"selection"!==a?e.isSortedDesc?l.createElement(r.g,{className:"sort-icon sort-icon-down ms-sm mt-n3",icon:c.Ync}):l.createElement(r.g,{className:"sort-icon sort-icon-up ms-sm mb-nsm",icon:c.Dvs}):l.createElement(l.Fragment,null)))})))}))),l.createElement("tbody",{...R()},B.length>0&&B.map((e=>{A(e);const t=e.getRowProps();let a="";a=g?e.cells.filter((e=>!g.some((t=>e.column.id===t)))):e.cells;const n=e.cells.find((e=>e?.column?.id===f))?.value??[];return l.createElement(l.Fragment,{key:e.getRowProps().key},l.createElement("tr",{...e.getRowProps()},a.map(((e,t)=>l.createElement("td",{key:t,...e.getCellProps({style:{width:e.column.width}}),className:`py-2 wb-all ${M||"align-middle"}`},e.render("Cell"))))),!1===k?null:e.isExpanded&&J({row:e,rowProps:t,visibleColumns:O,subRow:n,idKey:f}))})))):null,0===D.length?l.createElement("div",{className:""},l.createElement(n.Js,{icons:d._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:Y("txt_no_data"),width:"w-50"})):null),a&&F.length?l.createElement("div",{className:`d-flex align-items-center justify-content-between ${y}`},C?l.createElement("div",{className:"text-gray-900 fw-light"},1===v?.page?1:v?.page_size*(v?.page-1),"-",v?.total_elements<=v?.page_size?v?.total_elements:v?.page_size*v?.page," ","to ",v?.total_elements):l.createElement("div",{className:"d-flex align-items-center"},l.createElement("span",{className:"text-gray-600 me-16"},"Showing"),l.createElement("div",{className:"bg-white"},l.createElement(m.J0,{isClearable:!1,isSearchable:!1,isBorder:!1,isShadow:!1,menuPlacement:"top",options:[{label:5,value:5},{label:10,value:10},{label:20,value:20},{label:30,value:30},{label:40,value:40},{label:50,value:50}],getOptionLabel:e=>l.createElement("div",{className:"showing-option d-flex align-items-center"},l.createElement("span",null,e.label," items")),className:"shadow-none select-bg-white",onChange:e=>{_?(async e=>{await P(e)})(Number(e.value)):K(Number(e.value))},defaultValue:{label:_?v?.page_size:W,value:_?v?.page_size:W}}))),l.createElement("div",{className:"mt-2 pb-2 text-center pagination d-flex justify-content-end align-items-center"},l.createElement("button",{className:(C?"border-0":"border-1 border-gray-800")+" bg-white text-body btn p-0 w-40px h-40px rounded-0 rounded-top-start rounded-bottom-start",onClick:()=>_?X(v?.page-1):T(),disabled:_?1===v?.page:!U},l.createElement(n.I3,{url:d._K2.PUBLIC_URL+"/assets/images/chevron_left.svg",color:_?1===v?.page?"#5F5E70":"#1ab394":U?"#1ab394":"#5F5E70"}))," ",!C&&l.createElement(l.Fragment,null,l.createElement("button",{onClick:()=>_?X(1):G(0),className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+((_?1===v?.page:j+1===1)?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},1),(_?v?.page>3:j>3)&&l.createElement("button",{className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px bg-white text-body",style:{width:"38px",height:"38px"}},"..."),Q.map(((e,t)=>{let a=_?v?.page===t+1:j+1===t+1;return(_?0!==t&&t!==v?.total_pages-1&&t<v?.page-1+3&&t>v?.page-1-3:0!==t&&t!==F.length-1&&t<j+3&&t>j-3)&&l.createElement("button",{onClick:()=>_?X(t+1):G(t),key:t,className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+(a?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},t+1)})),(_?v?.page<v?.total_pages-3:j<F.length-4)&&l.createElement("button",{className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px bg-white text-body",style:{width:"38px",height:"38px"}},"..."),(_?v?.total_pages>1:F.length>1)&&l.createElement("button",{onClick:()=>_?X(v?.total_pages):G($-1),className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+((_?v?.page===v?.total_pages:j+1===F.length)?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},_?v?.total_pages:F.length)),l.createElement("button",{className:` ${C?"border-0":"border-1 border-gray-800"} bg-white text-body btn p-0 w-40px h-40px rounded-0 rounded-top-end rounded-bottom-end`,onClick:()=>_?X(v?.page+1):H(),disabled:_?v?.page===v?.total_pages:!z},l.createElement(n.I3,{url:d._K2.PUBLIC_URL+"/assets/images/chevron_right.svg",color:_?v?.page===v?.total_pages?"#5F5E70":"#1ab394":z?"#1ab394":"#5F5E70"})))):null)}))},16640:(e,t,a)=>{a.d(t,{I3:()=>g,Js:()=>p,Kp:()=>u});var n=a(53800),s=a(96540),l=a(32389),i=a(44011),o=a(20982),r=a(54625),c=a(66188),d=a(99194);document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode("/*\n * @copyright   Copyright (C) 2022 AesirX. All rights reserved.\n * @license     GNU General Public License version 3, see LICENSE.\n */\n.icon-post {\n  background: #cbf8ef;\n}\n\n.icon-project {\n  background: #ffeadc;\n}\n\n.icon-campain {\n  background: #fadae3;\n}"));var m=class extends s.Component{constructor(e){super(e)}render(){const{icons:e,text:t,title:a,link:n,linlText:l,isBtn:d,width:m,className:p,iconColor:g,iconBg:u}=this.props;return s.createElement("div",{className:p||"text-center h-100 d-flex flex-column justify-content-center align-items-center"},s.createElement("p",{style:{width:"48px",height:"55px"},className:`my-2 d-inline-block position-relative rounded-circle ${u}`},s.createElement(i._V,{className:`position-absolute top-50 start-50 translate-middle ${g}`,src:e,alt:e})),a&&s.createElement("h5",{className:"mb-2"},a),t&&s.createElement("p",{className:`mb-2 fs-14 text-black-50 w-100 mx-auto ${m}`},t),d&&s.createElement(r.N_,{to:{pathname:n,state:{openModal:!0}},className:"btn btn-success d-inline-block w-fit"},s.createElement("i",{className:"text-white me-2"},s.createElement(o.g,{icon:c.QLR})),l))}},p=(0,l.CI)()(m);var g=function({url:e,width:t,height:a,color:n,className:l}){return s.createElement("span",{className:`icon d-inline-block align-text-bottom ms-auto ${l}`,style:{WebkitMaskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",width:t??"24px",height:a??"24px",backgroundColor:n?`${n}`:"var(--body-color)"}})},u=e=>{const[t,a]=(0,s.useState)(!1),l=(0,s.useRef)(null),{onChange:o}=e,{biListViewModel:{dateFilter:{date_start:r,date_end:c},setDateFilter:m}}=(0,n.jd)(n.Dx);return s.createElement("div",{style:{minHeight:"48px"},ref:l,className:"d-flex align-items-center bg-white rounded-1 shadow-sm daterange-picker-wrapper"},s.createElement(i.n0,{isOpen:t,setIsOpen:a,datePickerRef:l,onChange:o,dateStart:r,dateEnd:c,setDateFilter:m}),s.createElement("div",{className:"calendar-icon position-absolute top-50 translate-middle-y"},s.createElement(g,{url:d._K2.PUBLIC_URL+"/assets/images/calendar.svg",color:"#00B96D"})))}}}]);