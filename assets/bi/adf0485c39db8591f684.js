"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[3440],{73440:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(63908),r=(a(44702),a(67294)),n=a(71257),l=a(96042),o=({btnClass:e="",spacingClass:t="",noLabel:a=!1,forgotPasswordLink:o=""})=>{const[m,i]=(0,r.useState)(!1),{handleOnData:c,demoUser:d,demoPassword:p}=(0,r.useContext)(s.Tx);return r.createElement("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{endpoint:t,client_id:a,client_secret:r}=(0,s.zx)(),l=e.target,o=new FormData(l),m="undefined"!=typeof window&&window.location.search,d=new URLSearchParams(m),p=d.get("organisationId"),u=d.get("return"),w=d.get("channel_type"),b={method:"post",url:`${t}/index.php?webserviceClient=site&webserviceVersion=1.0.0&option=token&api=oauth2`,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{username:o.get("ssoemail"),password:o.get("ssoepassword"),client_id:a,client_secret:r,grant_type:"password",...w&&{channel_type:w},...u&&{return:u},...p&&{organisationId:p}}},{data:h}=await(0,n.Z)(b);c(h),i(!1)}catch(e){return(0,l.Am)("Wrong authentication",{closeOnClick:!1}),i(!1),!1}}},d&&d&&r.createElement(r.Fragment,null,r.createElement("h5",{className:"text-primary"},"Demo email: ",d," "),r.createElement("h5",{className:"mb-3 text-primary"},"Demo password: ",p," ")),r.createElement("div",{className:`${t||"mb-4"}`},!a&&r.createElement("label",{htmlFor:"ssoemail",className:"form-label text-primary mb-2"},"Email address"),r.createElement("input",{type:"email",className:"form-control lh-sm border",name:"ssoemail",defaultValue:d})),r.createElement("div",{className:`${t||"mb-4"}`},!a&&r.createElement("label",{htmlFor:"ssoepassword",className:"form-label text-primary mb-2"},"Password"),r.createElement("input",{type:"password",className:"form-control lh-sm border",name:"ssoepassword",defaultValue:p,required:!0})),r.createElement("p",{className:`text-end ${t||"mb-4"}`},r.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:`${o||"https://dapp.shield.aesirx.io/auth/forgot-password"}`,className:"text-decoration-none"},"Forgot password ?")),r.createElement("button",{type:"submit",className:`${e||"btn btn-success w-100 lh-sm text-white fw-semibold"}`},m?r.createElement(r.Fragment,null,r.createElement("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Waiting..."):"Login"))}}}]);