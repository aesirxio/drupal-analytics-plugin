"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[6374],{26374:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(98870),i=a(27025),s=a(39057),n=a(63746),r=(a(37807),a(31864),a(59283)),o=(a(13899),a(51751),a(53800)),c=(a(55688),a(96540)),m=a(32389),d=a(44015),u=a(44011),p=a(44479),g=a(61105),h=(0,d.PA)((e=>{const{t}=(0,m.Bd)(),{utmTrackingEvents:{getVisitor:a,data:d,statusAttribute:h,handleFilterDateRange:b,handleFilterTable:f,getAttributeDate:E,getAttributeList:v,dataAttribute:w,dataAttributeList:y,statusTable:C,sortBy:x}}=(0,l.t)(),{biListViewModel:{activeDomain:N}}=(0,o.jd)(),_=(0,c.useCallback)(((e,t)=>{b(e??t,t??e)}),[]);(0,c.useEffect)((()=>((async()=>{await E({"filter[domain]":N,"filter[attribute_name]":"utm_source"}),await a({"filter[domain]":N,"filter[attribute_name]":"utm_source"}),await v({"filter[domain]":N,"filter[attribute_name]":"utm_source"})})(),()=>{})),[N]);return c.createElement("div",{className:"py-4 px-4 h-100"},c.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24 flex-wrap"},c.createElement("div",{className:"position-relative"},c.createElement("h2",{className:"fw-bold mb-3 mt-3"},t("txt_menu_utm_tracking"))),c.createElement("div",{className:"position-relative"},c.createElement(r.K,{onChange:_}))),c.createElement("div",{className:"row gx-24 mb-24"},c.createElement("div",{className:"col-lg-6 col-12"},c.createElement(i.O,{loading:h,chartTitle:t("txt_menu_overview"),height:390,data:w?.toAreaChartUTM(),colors:["#1AB394","#9747FF","#479CFF","#024E6D","#3F51B5","#FFC107","#4CAF50","#FF5722"],areaColors:["#1AB394","#9747FF","#479CFF","#024E6D","#3F51B5","#FFC107","#4CAF50","#FF5722"],lineColors:["#1AB394","#9747FF","#479CFF","#024E6D","#3F51B5","#FFC107","#4CAF50","#FF5722"],lines:w?.getListLineUTM(),filterData:w?.getFilterNameUTM(),tooltipComponent:{header:t("txt_number"),value:""},isLegend:!0,filterButtons:["days","months"]})),c.createElement("div",{className:"col-lg-6 col-12"},c.createElement(n.n,{chartTitle:t("txt_menu_utm_tracking")+" count",height:390,bars:["number"],barColors:["#2C94EA"],data:w?.toBarChartUTM(),margin:{left:40},filterButtons:[],loading:h,isSelection:!1}))),y?.toAttributeList()?.length&&c.createElement(p.A,{className:"mb-2"},c.createElement(g.A,{lg:"2"},c.createElement(u.J0,{defaultValue:{label:"All Campaign",value:"all"},options:y?.toAttributeList(),className:"fs-sm",isBorder:!0,onChange:e=>{(async e=>{await a({"filter[domain]":N,"filter[attribute_name]":"utm_source","filter[attribute_value]":e?.value})})(e)},plColor:"#808495",isSearchable:!1}))),c.createElement("div",{className:"row gx-24 mb-24"},c.createElement("div",{className:"col-12"},d?.list&&c.createElement(s.X,{data:d?.list?.toEventTableUTM(e.integration),statusTable:C,isPaginationAPI:!0,pagination:d.pagination,handleFilterTable:f,handleSort:async e=>{await a({"filter[domain]":N,"filter[attribute_name]":"utm_source"},{},{"sort[]":e?.id,"sort_direction[]":"desc"===x["sort_direction[]"]?"asc":"desc"})},sortBy:x,...e}))))}))},13899:(e,t,a)=>{a.d(t,{I:()=>i});var l=a(96540);var i=function({url:e,width:t,height:a,color:i,className:s}){return l.createElement("span",{className:`icon d-inline-block align-text-bottom ms-auto ${s}`,style:{WebkitMaskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",width:t??"24px",height:a??"24px",backgroundColor:i?`${i}`:"var(--body-color)"}})}},39057:(e,t,a)=>{a.d(t,{X:()=>c});var l=a(31864),i=a(59283),s=a(51751),n=a(99194),r=a(44011),o=a(96540),c=(0,a(32389).CI)()((({data:{header:e=[],data:t=[]},pagination:a,handleFilterTable:c,statusTable:m,t:d,isPaginationAPI:u=!1,isTranslate:p=!1,sortAPI:g=!0,handleSort:h,sortBy:b,tdClass:f,limit:E})=>{const v=o.useMemo((()=>e.map(((t,a)=>({...t,className:`px-3 py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${a+1===e.length?"rounded-top-end-3":""} ${0===a?"rounded-top-start-3":""}`,width:t?.width??100,allowSort:t?.allowSort||!1,...p?{Header:o.createElement("span",{className:"align-middle text-gray-900 fw-medium"},d(t.Header))}:{}})))),[e]),w=o.useMemo((()=>t),[t]);return o.createElement("div",{className:"h-100 ChartWrapper position-relative"},m===s.s.LOADING?o.createElement(r.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?o.createElement(l.x,{classNameTable:"mb-0",columns:v,data:w,canSort:!0,sortAPI:g,sortAPIHandle:h,sortBy:b,pagination:!0,paginationClass:"fs-14 px-4",isPaginationAPI:u,paginationResponse:a,selectPage:async e=>{await c({page:e})},selectPageSize:async e=>{await c({page:1,page_size:e})},limit:E,tdClass:f}):o.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},o.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},o.createElement(i.J,{icons:n._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:d("txt_no_data"),width:"w-50"}))))}))},27025:(e,t,a)=>{a.d(t,{O:()=>E});var l=a(37807),i=a(59283),s=a(51751),n=a(96540),r=a(32389),o=a(44653),c=a(88224),m=a(69107),d=a(77984),u=a(23495),p=a(78687),g=a(97018),h=a(91222),b=a(44011),f=a(99194);document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(".recharts-legend-wrapper ul {\n  list-style-type: none;\n}"));var E=({data:e=[],height:t,areaColors:a,chartTitle:E,lines:v,XAxisOptions:w,YAxisOptions:y,loading:C,tooltipComponent:x,filterData:N=[],isLegend:_,isSelection:F=!0,filterButtons:A})=>{const[k,B]=(0,n.useState)(N[0]),[T,L]=(0,n.useState)(e[0]),[S,P]=(0,n.useState)(l.f.DAY),{t:D}=(0,r.Bd)();(0,n.useEffect)((()=>{const[t,a,i]=e;return S===l.f.MONTH&&L(t),S===l.f.DAY&&L(a),S===l.f.WEEK&&L(i),()=>{}}),[S,e]),(0,n.useEffect)((()=>(B(N[0]),()=>{})),[N]);const I=(0,n.useMemo)((()=>({payload:e})=>n.createElement("div",{className:"areachart-tooltip p-15 text-white rounded-6",style:{backgroundColor:"#132342"}},n.createElement("p",{className:"fw-semibold fs-14 mb-sm"},e?.length>0?e[0].payload.name:""),e&&e.map(((t,a)=>n.createElement("div",{key:a,className:"mb-0 fs-12 d-flex flex-nowrap"},e?.length>1&&n.createElement("div",{className:" fw-bold"},t.name,":"),n.createElement("div",{className:"ps-sm"},n.createElement("p",{className:"mb-0"},n.createElement("span",{className:"mr-2"},x?.value),n.createElement("span",null,t.value)))))))),[x]);return n.createElement("div",{className:"bg-white rounded-3 p-24 shadow-sm h-100 ChartWrapper position-relative"},n.createElement(l.z,{currentSelection:k,onSelectionChange:B,selectionData:N,chartTitle:E,isSelection:F,filterButtons:A,view:S,setView:P}),C===s.s.LOADING?n.createElement(b.bg,{className:"d-flex justify-content-center align-items-center bg-white"}):k?n.createElement(o.u,{width:"100%",height:t??500},n.createElement(c.E,{data:T?.[k.value]},v&&n.createElement("defs",null,v.map(((e,t)=>n.createElement("linearGradient",{key:t,id:`${e?.replace(/\s/g,"")}_${t}`,x1:"0",y1:"0",x2:"0",y2:"1"},n.createElement("stop",{offset:"5%",stopColor:a[t],stopOpacity:.2}),n.createElement("stop",{offset:"95%",stopColor:a[t],stopOpacity:0}))))),n.createElement(m.d,{strokeDasharray:"7 7",horizontal:!0,vertical:!1}),n.createElement(d.W,{dataKey:"name",tickLine:!1,padding:w?.padding,style:{fontSize:"14px"}}),n.createElement(u.h,{tickLine:!1,axisLine:y?.axisLine??!1,padding:y?.padding,style:{fontSize:"14px"}}),n.createElement(p.m,{content:I}),_&&n.createElement(g.s,{content:e=>{const{payload:t}=e;return n.createElement("ul",{className:"ms-3 mt-2 d-flex align-items-center flex-wrap"},t.map(((e,t)=>n.createElement("li",{key:`item-${t}`,className:"me-24 fs-14 d-flex align-items-center"},n.createElement("div",{className:"rounded-circle me-8px d-flex align-items-center justify-content-center",style:{backgroundColor:e?.color??"#000",width:14,height:14}}),e.value))))}}),v&&v.map(((e,t)=>n.createElement(h.y,{key:t,dataKey:e,stackId:"a",fill:a[t],barSize:28,maxBarSize:76}))))):n.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},n.createElement(i.J,{icons:f._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:D("txt_no_data"),width:"w-50"})))}}}]);