"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[447],{89447:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var a=s(85322),i=s(73524),l=s(77746),r=s(20513),o=s(70069),n=s(23541),c=s(67294),d=s(91072),h=s(38585),_=s(16550),u=s(68949),g=s(40872),E=s(38994),m=s(30381),p=s.n(m),S=s(47116),R=s.n(S),w=class{constructor(){(0,n.o)(this,"getMetrics",(async(e,t,s,a)=>{try{const i=new g.Q2,l=await i.getMetrics(e,t);l?(0,u.z)((()=>{s(l)})):(0,u.z)((()=>{a({message:"Something went wrong from Server response"})}))}catch(e){(0,u.z)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,n.o)(this,"getVisitors",(async(e,t,s,a)=>{try{const i=new g.Q2,l=await i.getVisitors(e,t);l?(0,u.z)((()=>{s(l)})):a({message:"Something went wrong from Server response"})}catch(e){(0,u.z)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,n.o)(this,"getCountries",(async(e,t,s,a)=>{try{const i=new g.Q2,l=await i.getCountries(e,t);l?(0,u.z)((()=>{s(l)})):a({message:"Something went wrong from Server response"})}catch(e){(0,u.z)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,n.o)(this,"getCities",(async(e,t,s,a)=>{try{const i=new g.Q2,l=await i.getCities(e,t);l?(0,u.z)((()=>{s(l)})):a({message:"Something went wrong from Server response"})}catch(e){(0,u.z)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,n.o)(this,"getBrowsers",(async(e,t,s,a)=>{try{const i=new g.Q2,l=await i.getBrowsers(e,t);l?(0,u.z)((()=>{s(l)})):a({message:"Something went wrong from Server response"})}catch(e){(0,u.z)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,n.o)(this,"getLanguages",(async(e,t,s,a)=>{try{const i=new g.Q2,l=await i.getLanguages(e,t);l?(0,u.z)((()=>{s(l)})):a({message:"Something went wrong from Server response"})}catch(e){(0,u.z)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,n.o)(this,"getPages",(async(e,t,s,a)=>{try{const i=new g.Q2,l=await i.getPages(e,t);l?(0,u.z)((()=>{s(l)})):a({message:"Something went wrong from Server response"})}catch(e){(0,u.z)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}}))}},O=class{constructor(e,t){(0,n.o)(this,"data",[]),(0,n.o)(this,"globalViewModel",null),(0,n.o)(this,"toRaw",(()=>this.data)),(0,n.o)(this,"toCitiesTableTop",(()=>{const e=["txt_City","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[g.wT.CITY,g.lF.NUMBER_OF_VISITORS,g.lF.NUMBER_OF_PAGE_VIEWS,g.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS,g.lF.BOUNCE_RATE,g.lF.NUMBER_OF_PAGES_PER_SESSION,g.lF.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,width:t===g.wT.CITY?250:t===g.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,Cell:({cell:e,column:t})=>t.id===g.wT.CITY?c.createElement("div",{className:"px-15"},""===e?.value?"Unknown":e?.value):t.id===g.lF.BOUNCE_RATE?c.createElement("div",{className:"px-3 text-end"},e?.value+"%"):t.id===g.lF.AVERAGE_SESSION_DURATION?c.createElement("div",{className:"px-3 text-end"},e?.value?p().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):c.createElement("div",{className:"px-15 text-end"},g.Wt.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})))?.sort(((e,t)=>t[g.lF.NUMBER_OF_VISITORS]-e[g.lF.NUMBER_OF_VISITORS]));return{header:s,data:a}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}},F=class{constructor(e,t){(0,n.o)(this,"data",[]),(0,n.o)(this,"globalViewModel",null),(0,n.o)(this,"toRaw",(()=>this.data)),(0,n.o)(this,"toLanguagesTableTop",(()=>{const e=["txt_language","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[g.H1.LANG,g.lF.NUMBER_OF_VISITORS,g.lF.NUMBER_OF_PAGE_VIEWS,g.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS,g.lF.BOUNCE_RATE,g.lF.NUMBER_OF_PAGES_PER_SESSION,g.lF.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,width:t===g.H1.LANG?250:t===g.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,Cell:({cell:e,column:t})=>t.id===g.H1.LANG?c.createElement("div",{className:"px-15"},""===e?.value?"Unknown":e?.value):t.id===g.lF.BOUNCE_RATE?c.createElement("div",{className:"px-3 text-end"},e?.value+"%"):t.id===g.lF.AVERAGE_SESSION_DURATION?c.createElement("div",{className:"px-3 text-end"},e?.value?p().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):c.createElement("div",{className:"px-15 text-end"},g.Wt.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})))?.sort(((e,t)=>t[g.lF.NUMBER_OF_VISITORS]-e[g.lF.NUMBER_OF_VISITORS]));return{header:s,data:a}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}},N=class{constructor(e,t){(0,n.o)(this,"audienceStore",null),(0,n.o)(this,"status",r.r.READY),(0,n.o)(this,"statusOverview",r.r.READY),(0,n.o)(this,"statusMetrics",r.r.READY),(0,n.o)(this,"statusTopTable",r.r.READY),(0,n.o)(this,"globalStoreViewModel",null),(0,n.o)(this,"metricsData",null),(0,n.o)(this,"visitorData",null),(0,n.o)(this,"countriesTableData",null),(0,n.o)(this,"citiesTableData",null),(0,n.o)(this,"browsersTableData",null),(0,n.o)(this,"languagesTableData",null),(0,n.o)(this,"pagesTableData",null),(0,n.o)(this,"initialize",((e,t)=>{this.getMetrics(e,t),this.getVisitors(e,t),this.getCountries(e,t),this.getCities(e,t),this.getBrowsers(e,t),this.getLanguages(e,t)})),(0,n.o)(this,"initializeBehavior",((e,t)=>{this.getVisitors(e,t),this.getMetrics(e,t),this.getPages(e,t)})),(0,n.o)(this,"getMetrics",((e,t)=>{this.statusMetrics=r.r.LOADING,this.dataFilter={...this.dataFilter,...e};const s={...this.globalStoreViewModel.dateFilter,...t};this.audienceStore.getMetrics(this.dataFilter,s,this.callbackOnMetricsDataSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"getVisitors",((e,t)=>{this.statusOverview=r.r.LOADING,this.dataFilter={...this.dataFilter,...e};const s={...this.globalStoreViewModel.dateFilter,...t};this.audienceStore.getVisitors({...this.dataFilter,page_size:"1000"},s,this.callbackOnVisitorSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"getCountries",(async(e,t)=>{this.statusTopTable=r.r.LOADING,this.dataFilterCountries={page_size:"5","sort[]":"number_of_page_views","sort_direction[]":"desc",...this.dataFilterCountries,...e};const s={...this.globalStoreViewModel.dateFilter,...t};await this.audienceStore.getCountries(this.dataFilterCountries,s,this.callbackOnCountriesSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"getCities",(async(e,t)=>{this.statusTopTable=r.r.LOADING,this.dataFilterCities={page_size:"5","sort[]":"number_of_page_views","sort_direction[]":"desc",...this.dataFilterCities,...e};const s={...this.globalStoreViewModel.dateFilter,...t};await this.audienceStore.getCities(this.dataFilterCities,s,this.callbackOnCitiesSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"getBrowsers",(async(e,t)=>{this.statusTopTable=r.r.LOADING,this.dataFilterBrowsers={page_size:"5","sort[]":"number_of_page_views","sort_direction[]":"desc",...this.dataFilterBrowsers,...e};const s={...this.globalStoreViewModel.dateFilter,...t};await this.audienceStore.getBrowsers(this.dataFilterBrowsers,s,this.callbackOnBrowsersSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"getLanguages",(async(e,t)=>{this.statusTopTable=r.r.LOADING,this.dataFilterLanguages={page_size:"5","sort[]":"number_of_page_views","sort_direction[]":"desc",...this.dataFilterLanguages,...e};const s={...this.globalStoreViewModel.dateFilter,...t};await this.audienceStore.getLanguages(this.dataFilterLanguages,s,this.callbackOnLanguagesSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"getPages",(async(e,t)=>{this.statusTopTable=r.r.LOADING,this.dataFilterPages={page_size:"5","sort[]":"number_of_page_views","sort_direction[]":"desc",...this.dataFilterPages,...e};const s={...this.globalStoreViewModel.dateFilter,...t};await this.audienceStore.getPages(this.dataFilterPages,s,this.callbackOnPagesSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"handleFilter",(e=>{this.status=r.r.LOADING,this.dataFilter={...this.dataFilter,...e};const t={...this.globalStoreViewModel.dateFilter};this.audienceStore.getMetrics(this.dataFilter,t,this.callbackOnDataSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"handleFilterCountries",(async e=>{this.statusTopTable=r.r.LOADING,this.dataFilterCountries={...this.dataFilterCountries,...e};const t={...this.globalStoreViewModel.dateFilter};await this.audienceStore.getCountries(this.dataFilterCountries,t,this.callbackOnCountriesSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"handleFilterCities",(async e=>{this.statusTopTable=r.r.LOADING,this.dataFilterCities={...this.dataFilterCities,...e};const t={...this.globalStoreViewModel.dateFilter};await this.audienceStore.getCities(this.dataFilterCities,t,this.callbackOnCitiesSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"handleFilterBrowsers",(async e=>{this.statusTopTable=r.r.LOADING,this.dataFilterBrowsers={...this.dataFilterBrowsers,...e};const t={...this.globalStoreViewModel.dateFilter};await this.audienceStore.getBrowsers(this.dataFilterBrowsers,t,this.callbackOnBrowsersSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"handleFilterLanguages",(async e=>{this.statusTopTable=r.r.LOADING,this.dataFilterLanguages={...this.dataFilterLanguages,...e};const t={...this.globalStoreViewModel.dateFilter};await this.audienceStore.getLanguages(this.dataFilterLanguages,t,this.callbackOnLanguagesSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"handleFilterPages",(async e=>{this.statusTopTable=r.r.LOADING,this.dataFilterPages={...this.dataFilterPages,...e};const t={...this.globalStoreViewModel.dateFilter};await this.audienceStore.getPages(this.dataFilterPages,t,this.callbackOnPagesSuccessHandler,this.callbackOnErrorHandler)})),(0,n.o)(this,"handleFilterDateRange",((e,t)=>{this.status=r.r.LOADING;let s={date_start:p()(e).format("YYYY-MM-DD"),date_end:p()(t).endOf("day").format("YYYY-MM-DD")};this.initialize(this.dataFilter,s)})),(0,n.o)(this,"callbackOnErrorHandler",(e=>{this.status=r.r.READY,(0,E.j5)(e.message,"error")})),(0,n.o)(this,"callbackOnMetricsDataSuccessHandler",(e=>{e?(this.statusMetrics=r.r.READY,this.metricsData=e):(this.status=r.r.ERROR,this.statusMetrics=r.r.ERROR,this.data=[])})),(0,n.o)(this,"callbackOnVisitorSuccessHandler",(e=>{if(e){this.statusOverview=r.r.READY;const t=new a.Iv(e.list,this.globalStoreViewModel);this.visitorData=t}else this.status=r.r.ERROR,this.statusOverview=r.r.ERROR,this.data=[]})),(0,n.o)(this,"callbackOnCountriesSuccessHandler",(e=>{if(e){this.statusTopTable=r.r.READY;const t=new i.N(e.list,this.globalStoreViewModel);this.countriesTableData={list:t.toCountriesTableTop(),pagination:e.pagination}}else this.status=r.r.ERROR,this.statusTopTable=r.r.ERROR,this.data=[]})),(0,n.o)(this,"callbackOnCitiesSuccessHandler",(e=>{if(e){this.statusTopTable=r.r.READY;const t=new O(e.list,this.globalStoreViewModel);this.citiesTableData={list:t.toCitiesTableTop(),pagination:e.pagination}}else this.status=r.r.ERROR,this.statusTopTable=r.r.ERROR,this.data=[]})),(0,n.o)(this,"callbackOnBrowsersSuccessHandler",(e=>{if(e){this.statusTopTable=r.r.READY;const t=new a.Co(e.list,this.globalStoreViewModel);this.browsersTableData={list:t.toBrowsersTableTop(),pagination:e.pagination}}else this.status=r.r.ERROR,this.statusTopTable=r.r.ERROR,this.data=[]})),(0,n.o)(this,"callbackOnLanguagesSuccessHandler",(e=>{if(e){this.statusTopTable=r.r.READY;const t=new F(e.list,this.globalStoreViewModel);this.languagesTableData={list:t.toLanguagesTableTop(),pagination:e.pagination}}else this.status=r.r.ERROR,this.statusTopTable=r.r.ERROR,this.data=[]})),(0,n.o)(this,"callbackOnPagesSuccessHandler",(e=>{if(e){this.statusTopTable=r.r.READY;const t=new a.nu(e.list,this.globalStoreViewModel);this.pagesTableData={list:t.toPagesTableTop(),pagination:e.pagination}}else this.status=r.r.ERROR,this.statusTopTable=r.r.ERROR,this.data=[]})),(0,u.ky)(this),this.audienceStore=e,this.globalStoreViewModel=t}},b=class{constructor(e,t){(0,n.o)(this,"audienceListViewModel",null),(0,n.o)(this,"getAudienceListViewModel",(()=>this.audienceListViewModel)),e&&(this.audienceListViewModel=new N(e,t))}},v=(0,c.lazy)((()=>Promise.all([s.e(689),s.e(983),s.e(288)]).then(s.bind(s,95288)))),M=(0,c.lazy)((()=>Promise.all([s.e(689),s.e(603)]).then(s.bind(s,84603)))),T=({link:e,...t})=>"audience-behavior"===e?c.createElement(M,{...t}):c.createElement(v,{...t}),A=(0,h.Pi)(class extends c.Component{constructor(e){super(e),(0,n.o)(this,"audienceStore",null),(0,n.o)(this,"audienceViewModel",null);const{viewModel:t}=e;this.viewModel=t||null,this.biListViewModel=this.viewModel?this.viewModel.getBiListViewModel():null,this.audienceStore=new w,this.audienceViewModel=new b(this.audienceStore,this.biListViewModel)}render(){const{integration:e=!1}=this.props,{integrationLink:t,activeDomain:s}=this.biListViewModel;return c.createElement(l._,{viewModel:this.audienceViewModel},c.createElement(R(),{trigger:()=>c.createElement("a",{className:`btn btn-success me-2 text-nowrap fw-semibold py-16 lh-sm printButton ${this.props?.i18n?.language}`,href:"#"},this.props.t("txt_export_pdf")),content:()=>this.componentRef}),c.createElement(U,{integration:e,integrationLink:t,activeDomain:s,ref:e=>this.componentRef=e}))}}),U=(0,h.Pi)(class extends c.Component{constructor(e){super(e)}render(){return c.createElement(c.Fragment,null,this.props.integration?c.createElement(T,{link:this.props.integrationLink,activeDomain:this.props.activeDomain,...this.props}):c.createElement(c.Fragment,null,c.createElement(_.AW,{exact:!0,path:["/audience/overview","/bi/audience/overview"]},c.createElement(v,{...this.props})),c.createElement(_.AW,{exact:!0,path:["/audience/behavior","/bi/audience/behavior"]},c.createElement(M,{...this.props}))))}}),I=(0,d.Zh)()((0,_.EN)((0,o.NQ)(A)))},77746:(e,t,s)=>{s.d(t,{_:()=>l,b:()=>r});var a=s(67294),i=a.createContext(),l=({children:e,viewModel:t})=>a.createElement(i.Provider,{value:t},e),r=e=>t=>a.createElement(e,{...t,viewModel:a.useContext(i)})},73524:(e,t,s)=>{s.d(t,{N:()=>n});var a=s(23541),i=s(67294),l=s(40872),r=s(30381),o=s.n(r),n=class{constructor(e,t){(0,a.o)(this,"data",[]),(0,a.o)(this,"globalViewModel",null),(0,a.o)(this,"toRaw",(()=>this.data)),(0,a.o)(this,"toCountries",(()=>this?.data?.length&&this.data.map((e=>({country:e[l.Fb.COUNTRY_NAME],country_code:e[l.Fb.COUNTRY_CODE],views:e[l.lF.NUMBER_OF_VISITORS],flag:`/assets/images/flags/flag-${e[l.Fb.COUNTRY_NAME]?.toLowerCase()}.png`})))?.filter((e=>e[l.Fb.COUNTRY_CODE]))?.sort(((e,t)=>t.views-e.views)))),(0,a.o)(this,"toCountriesTable",(()=>{const e=["txt_Country","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[l.Fb.COUNTRY_NAME,l.lF.NUMBER_OF_VISITORS,l.lF.NUMBER_OF_PAGE_VIEWS,l.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS,l.lF.BOUNCE_RATE,l.lF.NUMBER_OF_PAGES_PER_SESSION,l.lF.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,width:t===l.Fb.COUNTRY_NAME?270:t===l.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,Cell:({cell:e,column:t,row:s})=>t.id===l.Fb.COUNTRY_NAME?i.createElement("div",{className:"px-3"},i.createElement("span",{className:`me-1 fi fi-${this.data.find((e=>e[l.Fb.COUNTRY_NAME]===s?.values[l.Fb.COUNTRY_NAME]))?.[l.Fb.COUNTRY_CODE]?.toLowerCase()}`}),i.createElement("span",{className:"text-nowrap"},`${s.index+1}. ${""===e?.value?"Unknown":e?.value}`)):t.id===l.lF.BOUNCE_RATE?i.createElement("div",{className:"px-3"},e?.value+"%"):t.id===l.lF.AVERAGE_SESSION_DURATION?i.createElement("div",{className:"px-3"},e?.value?o().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):i.createElement("div",{className:"px-3"},l.Wt.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})));return{header:s,data:a}}return{header:[],data:[]}})),(0,a.o)(this,"toCountriesTableTop",(()=>{const e=["txt_Country","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[l.Fb.COUNTRY_NAME,l.lF.NUMBER_OF_VISITORS,l.lF.NUMBER_OF_PAGE_VIEWS,l.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS,l.lF.BOUNCE_RATE,l.lF.NUMBER_OF_PAGES_PER_SESSION,l.lF.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],width:t===l.Fb.COUNTRY_NAME?270:t===l.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,accessor:t,Cell:({cell:e,row:t,column:s})=>s.id===l.Fb.COUNTRY_NAME?i.createElement("div",{className:"px-15"},i.createElement("span",{className:`me-1 fi fi-${this.data.find((e=>e[l.Fb.COUNTRY_NAME]===t?.values[l.Fb.COUNTRY_NAME]))?.[l.Fb.COUNTRY_CODE]?.toLowerCase()}`}),i.createElement("span",{className:"text-nowrap"},""===e?.value?"Unknown":e?.value)):s.id===l.lF.BOUNCE_RATE?i.createElement("div",{className:"px-3 text-end"},e?.value+"%"):s.id===l.lF.AVERAGE_SESSION_DURATION?i.createElement("div",{className:"px-3 text-end"},e?.value?o().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):i.createElement("div",{className:"px-15 text-end"},l.Wt.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})))?.sort(((e,t)=>t[l.lF.NUMBER_OF_VISITORS]-e[l.lF.NUMBER_OF_VISITORS]));return{header:s,data:a}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}}},85322:(e,t,s)=>{s.d(t,{Co:()=>c,Iv:()=>n,nu:()=>d});var a=s(23541),i=s(30381),l=s.n(i),r=s(40872),o=s(67294),n=class{constructor(e,t){(0,a.o)(this,"data",[]),(0,a.o)(this,"globalViewModel",null),(0,a.o)(this,"toRaw",(()=>this.data)),(0,a.o)(this,"toAreaChart",(()=>{const e=(0,r.F9)(this.globalViewModel?.dateFilter?.date_start,this.globalViewModel?.dateFilter?.date_end).map((e=>{const t=this.data.find((t=>l()(t.date).format("YYYY-MM-DD")===e));return{name:e&&l()(e,"YYYY-MM-DD").format("MM-DD"),visits:t?.[r.zA.VISITS]??0,page_views:t?.[r.zA.TOTAL_PAGE_VIEWS]??0}}));return[{visitors:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(((e,t)=>{const s=this.data.filter((e=>l()(e?.date).month()===t));let a=0,i=0;return s&&(a=s.reduce(((e,t)=>e+t[r.zA.VISITS]),0),i=s.reduce(((e,t)=>e+t[r.zA.TOTAL_PAGE_VIEWS]),0)),{name:e,visits:a,page_views:i}}))},{visitors:e}]})),(0,a.o)(this,"getFilterName",(()=>[{label:"Visitors",value:"visitors"}])),e&&(this.data=e??[],this.globalViewModel=t)}},c=class{constructor(e,t){(0,a.o)(this,"data",[]),(0,a.o)(this,"globalViewModel",null),(0,a.o)(this,"toRaw",(()=>this.data)),(0,a.o)(this,"toBrowsersTableTop",(()=>{const e=["txt_browser","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[r.fp.BROWSER_NAME,r.lF.NUMBER_OF_VISITORS,r.lF.NUMBER_OF_PAGE_VIEWS,r.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS,r.lF.BOUNCE_RATE,r.lF.NUMBER_OF_PAGES_PER_SESSION,r.lF.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,width:t===r.fp.BROWSER_NAME?250:t===r.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,Cell:({cell:e,column:t})=>t.id===r.fp.BROWSER_NAME?o.createElement("div",{className:"px-15"},""===e?.value?"Unknown":e?.value):t.id===r.lF.BOUNCE_RATE?o.createElement("div",{className:"px-3 text-end"},e?.value+"%"):t.id===r.lF.AVERAGE_SESSION_DURATION?o.createElement("div",{className:"px-3 text-end"},e?.value?l().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):o.createElement("div",{className:"px-15 text-end"},r.Wt.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})))?.sort(((e,t)=>t[r.lF.NUMBER_OF_VISITORS]-e[r.lF.NUMBER_OF_VISITORS]));return{header:s,data:a}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}},d=class{constructor(e,t){(0,a.o)(this,"data",[]),(0,a.o)(this,"globalViewModel",null),(0,a.o)(this,"toRaw",(()=>this.data)),(0,a.o)(this,"toPagesTableTopDashboard",(()=>{const e=["txt_page","txt_page_views","txt_time_on_page"],t=[r.RM.URL,r.lF.NUMBER_OF_PAGE_VIEWS,r.lF.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,Cell:({cell:e,column:t})=>{const s=t.id===r.RM.URL&&new URL(e?.value);return t.id===r.RM.URL?o.createElement("div",{className:"px-15"},""===s?"Unknown":s.pathname+s.search):t.id===r.lF.AVERAGE_SESSION_DURATION?o.createElement("div",{className:"px-15 text-end"},e?.value?l().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):o.createElement("div",{className:"px-15 text-end"},e?.value??null)}}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})))?.sort(((e,t)=>t[r.lF.NUMBER_OF_PAGE_VIEWS]-e[r.lF.NUMBER_OF_PAGE_VIEWS]));return{header:s,data:a}}return{header:[],data:[]}})),(0,a.o)(this,"toPagesTableTop",(()=>{const e=["txt_page","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[r.RM.URL,r.lF.NUMBER_OF_VISITORS,r.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS,r.lF.BOUNCE_RATE,r.lF.NUMBER_OF_PAGES_PER_SESSION,r.lF.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,width:t===r.RM.URL?300:t===r.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,tooltip:t===r.lF.NUMBER_OF_UNIQUE_PAGE_VIEWS?"txt_bounce_rate":"",Cell:({cell:e,column:t})=>{const s=t.id===r.RM.URL&&new URL(e?.value);return t.id===r.RM.URL?o.createElement("div",{className:"px-15"},""===s?"Unknown":s.pathname+s.search):t.id===r.lF.BOUNCE_RATE?o.createElement("div",{className:"px-3 text-end"},e?.value+"%"):t.id===r.lF.AVERAGE_SESSION_DURATION?o.createElement("div",{className:"px-15 text-end"},e?.value?l().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):o.createElement("div",{className:"px-15 text-end"},e?.value??null)}}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})))?.sort(((e,t)=>t[r.lF.NUMBER_OF_PAGE_VIEWS]-e[r.lF.NUMBER_OF_PAGE_VIEWS]));return{header:s,data:a}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}}}}]);