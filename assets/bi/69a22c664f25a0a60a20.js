"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[4941],{84941:(e,t,a)=>{a.d(t,{I:()=>c});var s=a(23541),i=a(67294),l=a(30381),r=a.n(l),n=a(73022),o=a(41330),c=class{constructor(e,t){(0,s.o)(this,"data",[]),(0,s.o)(this,"globalViewModel",null),(0,s.o)(this,"toRaw",(()=>this.data)),(0,s.o)(this,"toAreaChart",(()=>{const e=(0,n.F9f)(this.globalViewModel?.dateFilter?.date_start,this.globalViewModel?.dateFilter?.date_end),t=e.map((e=>{const t=this.data.find((t=>r()(t.date).format("YYYY-MM-DD")===e));return{name:e&&r()(e,"YYYY-MM-DD").format("DD MMM"),visits:t?.[n.zAx.VISITS]??0,page_views:t?.[n.zAx.TOTAL_PAGE_VIEWS]??0,unique_visits:t?.unique_visits??0}})),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(((e,t)=>{const a=this.data.filter((e=>r()(e?.date).month()===t));let s=0,i=0,l=0;return a&&(s=a.reduce(((e,t)=>e+t[n.zAx.VISITS]),0),i=a.reduce(((e,t)=>e+t[n.zAx.TOTAL_PAGE_VIEWS]),0),l=a.reduce(((e,t)=>e+t.unique_visits),0)),{name:e,visits:s,page_views:i,unique_visits:l}})),s={};e.forEach((e=>{const t=r()(e).startOf("isoWeek"),a=r()(e).endOf("isoWeek"),i=`${t.format("DD MMM")} - ${a.format("DD MMM")}`;s[i]||(s[i]={visits:0,page_views:0,unique_visits:0});const l=this.data.filter((e=>r()(e?.date).isBetween(t,a,null,"[]")));if(l){const e=l.reduce(((e,t)=>e+t[n.zAx.VISITS]),0),t=l.reduce(((e,t)=>e+t[n.zAx.TOTAL_PAGE_VIEWS]),0),a=l.reduce(((e,t)=>e+t.unique_visits),0);s[i].visits+=e,s[i].page_views+=t,s[i].unique_visits+=a}}));return[{visitors:a},{visitors:t},{visitors:Object.keys(s).map((e=>({name:e,visits:s[e].visits,page_views:s[e].page_views,unique_visits:s[e].unique_visits})))}]})),(0,s.o)(this,"getFilterName",(()=>[{label:"Visitors",value:"visitors"}])),(0,s.o)(this,"toBrowsersTableTop",(()=>{const e=["txt_browser","txt_visitors","%"],t=Math.max(...this.data.map((e=>e[n.lF8.NUMBER_OF_VISITORS]))),a=[n.fpu.BROWSER_NAME,n.lF8.NUMBER_OF_VISITORS,n.lF8.NUMBER_OF_VISITORS_PERCENT];if(this.data?.length){const s=a.map(((a,s)=>({Header:e[s],accessor:a,allowSort:!0,width:a===n.fpu.BROWSER_NAME?250:a===n.lF8.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:100,Cell:({cell:e,column:a,row:s})=>{let l="";switch(e?.value){case"Chrome":l="/assets/images/chrome.svg";break;case"Safari":l="/assets/images/safari.svg";break;case"Firefox":l="/assets/images/firefox.svg";break;case"Microsoft Edge":l="/assets/images/microsoft_edge.svg";break;case"Opera":l="/assets/images/opera.svg";break;case"Samsung Internet for Android":l="/assets/images/samsung_browser.svg";break;case"Googlebot":l="/assets/images/google_bot.svg";break;case"Yandex Browser":l="/assets/images/yandex_browser.svg"}return i.createElement(i.Fragment,null,a.id===n.fpu.BROWSER_NAME?i.createElement("div",{className:"d-flex align-items-center py-sm px-20 position-relative"},i.createElement("div",{className:"position-absolute top-0 start-0 h-100 z-0",style:{backgroundColor:"#E7EFFF",width:`${(s.cells[1]?.value/t*100)?.toString()}%`}}),i.createElement("div",{className:"z-1"},l&&i.createElement(o.Z,{className:"me-12px",style:{width:22,height:22},src:n.OBj.PUBLIC_URL+l,alt:"icons"}),""===e?.value?"Unknown":e?.value)):a.id===n.lF8.NUMBER_OF_VISITORS_PERCENT?i.createElement("div",{className:"text-end"},n.WtE.numberWithCommas(e?.value)??null):i.createElement("div",{className:"text-end pe-2"},n.WtE.numberWithCommas(e?.value)??null))}}))),l=this.data?.map((e=>(e[n.lF8.NUMBER_OF_VISITORS_PERCENT]=e[n.lF8.NUMBER_OF_VISITORS_PERCENT]/10,{...e,...a.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),r=l?.map((e=>{for(let t in e)a.includes(t)||delete e[t];return e}));return{header:s,data:r}}return{header:[],data:[]}})),(0,s.o)(this,"toDevicesTableTop",(()=>{const e=["txt_device","txt_visitors"],t=[n.t9E.DEVICE,n.lF8.NUMBER_OF_VISITORS],a=Math.max(...this.data.map((e=>e[n.lF8.NUMBER_OF_VISITORS])));if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,allowSort:!0,width:t===n.t9E.DEVICE?250:t===n.lF8.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,Cell:({cell:e,column:t,row:s})=>i.createElement(i.Fragment,null,t.id===n.t9E.DEVICE?i.createElement("div",{className:"d-flex align-items-center text-capitalize py-sm px-20 position-relative"},i.createElement("div",{className:"position-absolute top-0 start-0 h-100 z-0",style:{backgroundColor:"#E7EFFF",width:`${(s.cells[1]?.value/a*100)?.toString()}%`}}),i.createElement("div",{className:"z-1"},""===e?.value?"Unknown":e?.value)):i.createElement("div",{className:" text-end"},n.WtE.numberWithCommas(e?.value)??null))}))),l=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),r=l?.map((e=>{for(let a in e)t.includes(a)||delete e[a];return e}));return{header:s,data:r}}return{header:[],data:[]}})),(0,s.o)(this,"toSourcesTableTopDashboard",(()=>{const e=["txt_source","txt_visitors"],t=[n.fgu.REFERER,n.lF8.NUMBER_OF_VISITORS],a=Math.max(...this.data.map((e=>e[n.lF8.NUMBER_OF_VISITORS])));if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,allowSort:!0,Cell:({cell:e,column:t,row:s})=>{let l="";if(t.id===n.fgu.REFERER){if(e?.value){const t=new URL(e?.value);l="aesirx.io"===t?.hostname?"/assets/images/logo/welcome-logo.png":""}switch(e?.value){case"":l="/assets/images/direct.png";break;case"https://www.google.com/":l="/assets/images/google.png";break;case"https://www.facebook.com/":l="/assets/images/facebook.png";break;case"https://www.linkedin.com/":l="/assets/images/linkedin.png";break;case"https://yandex.ru/":l="/assets/images/yandex.png";break;case"https://duckduckgo.com/":l="/assets/images/duckduckgo.svg";break;case"https://www.reddit.com/":l="/assets/images/reddit.png";break;case"https://twitter.com/":l="/assets/images/twitter.png";break;case"https://github.com/":l="/assets/images/github.png"}}return t.id===n.fgu.REFERER?i.createElement("a",{...e?.value?{target:"_blank",rel:"noreferrer",href:`${e?.value}`}:{},className:"d-block position-relative px-20 py-sm text-gray-900 table-link"},i.createElement("div",{className:"position-absolute top-0 start-0 h-100 z-0 table-link-bg",style:{width:`${(s.cells[1]?.value/a*100)?.toString()}%`}}),i.createElement("div",{className:"position-relative z-1 text-ellipsis line-clamp-1 pe-20"},i.createElement("div",{className:"position-relative table-link-text"},l&&i.createElement(o.Z,{className:"me-sm object-fit-contain",style:{width:22,height:22},src:n.OBj.PUBLIC_URL+l,alt:"icons"}),e?.value?e?.value:"Direct / None"))):i.createElement("div",{className:"px-15 text-end"},e?.value??null)}}))),l=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})));return{header:s,data:l}}return{header:[],data:[]}})),(0,s.o)(this,"toEventsTypeTableTop",(()=>{const e=["text_keyword","txt_unique_visitors","txt_visitors"],t=[n.vu7.EVENT_NAME,n.vu7.UNIQUE_VISITOR,n.vu7.TOTAL_VISITOR];if(this.data?.length){const a=t.map(((t,a)=>({Header:e[a],accessor:t,allowSort:!0,width:t===n.vu7.EVENT_NAME?250:t===n.lF8.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,Cell:({cell:e,column:t})=>i.createElement(i.Fragment,null,t.id===n.vu7.EVENT_NAME?i.createElement("div",{className:"d-flex align-items-center text-capitalize py-sm px-20 position-relative"},i.createElement("div",{className:"z-1"},""===e?.value?"Unknown":e?.value)):i.createElement("div",{className:" text-end"},n.WtE.numberWithCommas(e?.value)??null))}))),s=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),l=s?.map((e=>{for(let a in e)t.includes(a)||delete e[a];return e}));return{header:a,data:l}}return{header:[],data:[]}})),(0,s.o)(this,"toAttributeTableTop",(()=>{const e=["text_campaign","txt_page_views","txt_unique_page_views","txt_visitors","txt_bounce_rate","txt_avg_page_session","txt_avg_session_duration"],t=[n.k3v.VALUE,n.lF8.NUMBER_OF_PAGE_VIEWS,n.lF8.NUMBER_OF_UNIQUE_PAGE_VIEWS,n.lF8.NUMBER_OF_VISITORS,n.lF8.BOUNCE_RATE,n.lF8.NUMBER_OF_PAGES_PER_SESSION,n.lF8.AVERAGE_SESSION_DURATION];if(this.data?.length>0){const a=t.map(((t,a)=>({Header:e[a],accessor:t,allowSort:!0,width:t===n.k3v.VALUE&&250,Cell:({cell:e,column:t})=>i.createElement(i.Fragment,null,t.id===n.k3v.VALUE?i.createElement("div",{className:"d-flex align-items-center text-capitalize py-sm px-20 position-relative"},i.createElement("div",{className:"z-1"},""===e?.value?"Unknown":e?.value)):i.createElement("div",{className:" text-end"},n.WtE.numberWithCommas(e?.value)??null))}))),s=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),l=s?.map((e=>{for(let a in e)t.includes(a)||delete e[a];return e}));return{header:a,data:l}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}}},41330:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(94184),i=a.n(s),l=a(67294),r=a(45697),n=a.n(r),o=a(76792),c=a(48521);n().string,n().bool,n().bool,n().bool,n().bool;const m=l.forwardRef((({bsPrefix:e,className:t,fluid:a=!1,rounded:s=!1,roundedCircle:l=!1,thumbnail:r=!1,...n},m)=>(e=(0,o.vE)(e,"img"),(0,c.jsx)("img",{ref:m,...n,className:i()(t,a&&`${e}-fluid`,s&&"rounded",l&&"rounded-circle",r&&`${e}-thumbnail`)}))));m.displayName="Image";const d=m}}]);