"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[3423],{3569:(e,t)=>{var a="circle-info",i=["info-circle"],s="f05a",o="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z";t.mw={prefix:"fas",iconName:a,icon:[512,512,i,s,o]},t.mE=t.mw},13423:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var i,s=a(93811),o=a(48204),l=a(49106),n=(a(94380),a(44518),a(44694)),r=a(96526),c=(a(67941),a(48298),a(16640)),d=(a(51751),a(53800)),m=a(81252),p=a(96540),h=a(44479),g=a(61105),u=a(32389),v=a(44015),E=a(99194),w=a(56347),b=a(95093),_=a.n(b),M=a(418),x=(0,v.PA)(class extends p.Component{constructor(e){super(e);const{listViewModel:t}=e;this.listViewModel=t||null,this.state={loading:!1}}render(){const{statusTopTable:e}=this.listViewModel;return p.createElement("div",{className:"position-relative h-100"},p.createElement("div",{className:"bg-white rounded-3 shadow-sm h-100 position-relative ChartWrapper"},p.createElement(o.Y,{data:this.listViewModel?.pagesTableData?.list?.toPagesTableTop(this.props.integration),pagination:this.listViewModel?.pagesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterPages({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterPages({page:1,page_size:e})},status:e,sortAPI:!0,handleSort:this.props.handleSort,sortBy:this.listViewModel?.sortByPages,...this.props})))}}),N=(0,u.CI)()((0,w.y)(x)),C=(0,v.PA)((i=class extends p.Component{constructor(e){super(e),(0,m.M)(this,"componentDidMount",(()=>{this.visitorsListViewModel.initializeBehavior({"filter[domain]":this.context.biListViewModel.activeDomain},{},{...this.params?.pagination&&{page:this.params?.pagination}})})),(0,m.M)(this,"componentDidUpdate",(e=>{this.props.location===e.location&&this.props.activeDomain===e.activeDomain||this.visitorsListViewModel.initializeBehavior({"filter[domain]":this.context.biListViewModel.activeDomain},{},{...this.params?.pagination&&{page:this.params?.pagination}})})),(0,m.M)(this,"handleDateRangeChange",((e,t)=>{this.visitorsListViewModel.handleFilterDateRange(e??t,t??e)})),(0,m.M)(this,"generateCard",(()=>{const{t:e}=this.props;return[{className:"col-3 mb-24",title:e("txt_page_views"),value:E.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[E.CEO.NUMBER_OF_PAGE_VIEWS]),isIncrease:!1,loading:this.visitorsListViewModel.statusMetrics,tooltip:e("txt_tooltip_page_views")},{className:"col-3 mb-24",title:e("txt_acg_session_duration"),value:(this.visitorsListViewModel?.metricsData?.[E.CEO.AVERAGE_SESSION_DURATION]?_().utc(1e3*this.visitorsListViewModel?.metricsData?.[E.CEO.AVERAGE_SESSION_DURATION]).format("HH:mm:ss"):"00:00:00")+"s",isIncrease:!1,loading:this.visitorsListViewModel.statusMetrics,tooltip:e("txt_tooltip_avg_session_duration")},{className:"col-3 mb-24",title:e("txt_page_session"),value:E.HP2.numberWithCommas(this.visitorsListViewModel?.metricsData?.[E.CEO.NUMBER_OF_PAGES_PER_SESSION]),isIncrease:!1,loading:this.visitorsListViewModel?.statusMetrics,tooltip:e("txt_tooltip_page_session")},{className:"col-3 mb-24",title:e("txt_bounce_rate"),value:E.HP2.numberWithCommas(this.visitorsListViewModel?.metricsData?.[E.CEO.BOUNCE_RATE])+"%",isIncrease:!1,loading:this.visitorsListViewModel?.statusMetrics,tooltip:e("txt_tooltip_bounce_rate")}]})),(0,m.M)(this,"handleSort",(async e=>{this.visitorsListViewModel.getPages({"filter[domain]":this.context.biListViewModel.activeDomain},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.visitorsListViewModel?.sortBy["sort_direction[]"]?"asc":"desc"})})),(0,m.M)(this,"handleSearch",(async e=>{this.visitorsListViewModel.getPages({"filter[domain]":this.context.biListViewModel.activeDomain},{},{},{"filter[url]":e})}));const{viewModel:t}=e;this.viewModel=t||null,this.visitorsListViewModel=this.viewModel?this.viewModel.getVisitorsListViewModel():null,this.params=M.A.parse(e.location.search)}render(){const{t:e}=this.props,t=this.generateCard();return p.createElement("div",{className:"py-4 px-4"},p.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24"},p.createElement("div",null,p.createElement("h2",{className:"fw-bold mb-8px"},e("txt_behavior")),p.createElement("p",{className:"mb-0"},e("txt_analytic_details"))),p.createElement("div",{className:"position-relative"},p.createElement(c.Kp,{onChange:this.handleDateRangeChange}))),p.createElement(l.h,{data:t??[]}),p.createElement(h.A,{className:"mb-24 ChartWrapper"},p.createElement(g.A,{lg:6},p.createElement(n.q,{bars:["page_views"],barColors:["#0066FF"],isSelection:!1,listViewModel:this.visitorsListViewModel,status:this.visitorsListViewModel?.statusOverview,data:this.visitorsListViewModel?.visitorData?.toAreaChart(),filterData:this.visitorsListViewModel?.visitorData?.getFilterName()})),p.createElement(g.A,{lg:6},p.createElement(r.n,{chartTitle:e("txt_views_by_page")+" count",height:390,bars:["number"],barColors:["#2C94EA"],data:this.visitorsListViewModel?.pagesCountData?.list?.toBarChart(),margin:{left:40},filterButtons:[],loading:this.visitorsListViewModel?.statusPagesCount,isSelection:!1}))),p.createElement(N,{listViewModel:this.visitorsListViewModel,handleSort:this.handleSort,handleSearch:this.handleSearch,...this.props}))}},(0,m.M)(i,"contextType",d.Dx),i)),f=(0,u.CI)()((0,w.y)((0,s.U)(C)))},48204:(e,t,a)=>{a.d(t,{Y:()=>g});var i=a(48298),s=a(16640),o=a(51751),l=a(96540),n=a(32389),r=a(56347),c=a(44011),d=a(99194),m=a(67008),p=a(20982),h=a(3569),g=(0,n.CI)()((0,r.y)((e=>{const{data:t,isPagination:a=!0,simplePagination:n=!1,pagination:r,selectPage:g,selectPageSize:u,status:v,limit:E,isPaginationAPI:w=!!a,t:b,sortAPI:_,handleSort:M,sortBy:x,tableClass:N}=e,C=l.useMemo((()=>t?.header?.map(((e,a)=>{let i="";switch(e?.accessor){case d.CEO.NUMBER_OF_VISITORS:i="txt_tooltip_visitors";break;case d.CEO.NUMBER_OF_PAGE_VIEWS:i="txt_tooltip_page_views";break;case d.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS:i="txt_tooltip_unique_page_views";break;case d.CEO.BOUNCE_RATE:i="txt_tooltip_bounce_rate";break;case d.CEO.NUMBER_OF_PAGES_PER_SESSION:i="txt_tooltip_page_session";break;case d.CEO.AVERAGE_SESSION_DURATION:i="txt_tooltip_avg_session_duration";break;default:i=""}return{...e,className:`px-15 py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${0!==a?"rounded-top-end-3 text-end":""} ${0===a?"rounded-top-start-3":""}`,width:e.width?e.width:0===a?"auto":170,allowSort:e?.allowSort||!1,Header:l.createElement("span",{className:"align-middle text-gray-900 fw-medium"},b(e.Header),i&&l.createElement(l.Fragment,null,l.createElement(p.g,{"data-tooltip-id":"tooltipTable","data-tooltip-content":b(i),className:"mx-sm fs-12 mb-1","data-tooltip-place":""+(a===t?.header?.length-1?"top-end":"top"),icon:h.mE}),l.createElement(m.m_,{id:"tooltipTable"})))}}))),[t?.header]),f=l.useMemo((()=>t?.data),[t?.data]);return l.createElement(l.Fragment,null,v===o.s.LOADING?l.createElement(c.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?l.createElement(i.x,{classNameTable:`mb-0 ${N}`,columns:C,data:f,canSort:!0,pagination:a,paginationClass:"fs-14 border-top mt-2",isPaginationAPI:w,paginationResponse:r,selectPage:g,selectPageSize:u,simplePagination:n,limit:E,sortAPI:_,sortAPIHandle:M,sortBy:x}):l.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},l.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},l.createElement(s.Js,{icons:d._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:b("txt_no_data"),width:"w-50"}))))})))},44694:(e,t,a)=>{a.d(t,{q:()=>c});var i=a(96526),s=a(96540),o=a(32389),l=a(44015),n=a(56347),r=(0,l.PA)(class extends s.Component{constructor(e){super(e);const{listViewModel:t}=e;this.listViewModel=t||null,this.state={loading:!1}}render(){const{t:e,status:t,bars:a,barColors:o,data:l,filterData:n}=this.props;return s.createElement("div",{className:"position-relative h-100"},s.createElement(i.n,{height:500,data:l,colors:["#1AB394"],layout:"horizontal",barColors:o,bars:a,hiddenGrid:{vertical:!1},XAxisOptions:{axisLine:!0,padding:{left:50,right:50}},defaultValue:{label:"Visitors",value:"visitors"},options:[{label:"Visitors",value:"visitors"}],loading:t,tooltipComponent:{header:e("txt_in_total"),value:1===a?.length&&a[0]+":"},status:t,filterData:n,isSelection:!1,isLegend:!0,filterButtons:["days","months","weeks"]}))}}),c=(0,o.CI)()((0,n.y)(r))},49106:(e,t,a)=>{a.d(t,{h:()=>d});var i=a(94380),s=a(44518),o=a(96540),l=a(32389),n=a(44015),r=a(56347),c=(0,n.PA)(class extends o.Component{constructor(e){super(e)}render(){return o.createElement("div",{className:"row gx-24"},this.props.data.length>0?this.props.data.map(((e,t)=>o.createElement("div",{className:e.className,key:t},o.createElement(i.E,{title:e.title,icon:e.icon,iconColor:e.iconColor,value:e.value,isIncrease:e.isIncrease,loading:e.loading,options:e.options,defaultValue:e.defaultValue,tooltip:e?.tooltip})))):null)}}),d=(0,l.CI)()((0,r.y)((0,s.p)(c)))},44518:(e,t,a)=>{a.d(t,{X:()=>o,p:()=>l});var i=a(96540),s=i.createContext(),o=({children:e,viewModel:t})=>i.createElement(s.Provider,{value:t},e),l=e=>t=>i.createElement(e,{...t,viewModel:i.useContext(s)})},94380:(e,t,a)=>{a.d(t,{E:()=>m,i:()=>d});var i=a(51751),s=a(96540),o=a(44011),l=a(99194),n=a(20982),r=a(66188),c=a(23524);document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode("/*\n * @copyright   Copyright (C) 2022 AesirX. All rights reserved.\n * @license     GNU General Public License version 3, see LICENSE.\n */\n.icon-card {\n  width: 56px;\n  height: 56px;\n}\n.icon-card .icon {\n  width: 100%;\n  height: 100%;\n  background-color: var(--sidebar-menu-item-color);\n}\n\n.icon-grown {\n  width: 18px;\n  height: 18px;\n}"));function d(e,t){var a=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16);return t?"rgba("+a+", "+i+", "+s+", "+t+")":"rgb("+a+", "+i+", "+s+")"}var m=({title:e,icon:t,iconColor:a,value:m,isIncrease:p,percent:h,textPercent:g,options:u,defaultValue:v,loading:E,tooltip:w})=>{const[b,_]=(0,s.useState)(v??null),[M,x]=(0,s.useState)(m);(0,s.useEffect)((()=>{let e=u?.find((e=>e?.value===b?.value));x(e?e?.actualValue:m)}),[m]);return s.createElement("div",{className:"bg-white p-24 shadow-sm rounded-3 h-100"},s.createElement("div",{className:"d-flex justify-content-between align-items-center mb-16"},s.createElement("div",{className:"d-flex align-items-center position-relative"},t&&s.createElement("div",{className:"icon-card rounded-circle me-16 ",style:{background:d(a,.15)}},s.createElement("span",{className:"icon arrow d-inline-block align-text-bottom ms-auto",style:{WebkitMaskImage:`url(${t})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",backgroundColor:d(a)}})),s.createElement("h6",{className:"mb-0 fw-medium text-gray-900"},e),w&&s.createElement(s.Fragment,null,s.createElement(n.g,{"data-tooltip-id":"tooltipTable","data-tooltip-content":w,className:"mx-sm fs-12 mb-1",icon:r.mEO}),s.createElement(c.A,{id:"tooltipTable"}))),u&&s.createElement(o.J0,{value:b,options:u,className:"fs-sm",isBorder:!0,onChange:e=>{_(e),e?.actualValue&&x(e?.actualValue)},isSearchable:!1})),s.createElement("div",{className:"d-flex justify-content-between position-relative"},E===i.s.LOADING&&s.createElement(o.ee,{className:"d-flex justify-content-start align-items-center bg-white",size:"10px"}),s.createElement("h3",{className:"mb-0 fw-medium fs-24"},M),s.createElement("div",{className:"d-flex flex-wrap align-item-center"},h&&s.createElement("div",{className:"d-flex w-100 mb-sm justify-content-end"},s.createElement("span",{className:"icon-grown arrow d-inline-block align-text-bottom ms-auto text-primary "+(p?"bg-green":"bg-red"),style:{WebkitMaskImage:`url(${l._K2.PUBLIC_URL}${p?"/assets/images/grown-up.svg":"/assets/images/grown-down.svg"})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center"}}),s.createElement("span",{className:(p?"text-green":"text-danger")+" fw-semibold"},p?"+":"-",h)),s.createElement("div",{className:"w-100 text-gray fs-sm text-end"},g))))}}}]);